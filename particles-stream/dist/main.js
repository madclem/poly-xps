!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="/dist/",e(0)}([function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}var a=n(15),o=i(a),s=n(2),u=r(s),h=void 0,c=function(){var t=document.getElementById("canvas");u.init(t),h=new o.default,window.addEventListener("resize",l),l()},l=function(){h.resize()};c()},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=n(4),u=r(s),h=n(52),c=r(h),l=function(t){function e(n,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4;i(this,e);var s=a(this,t.call(this));return s.program=n,s.state=r||new u.default(s.program.gl),s.drawType=o,s._attributes=[],s._vertices=[],s._indices=[],s._vertexSize=0,s._numItems=0,s.indexBuffer=null,s}return o(e,t),e.prototype.addIndices=function(t,e){var n=this.program.gl,r=e?n.DYNAMIC_DRAW:n.STATIC_DRAW;this._indices=t,this.indexBuffer=n.createBuffer(),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,this.indexBuffer),n.bufferData(n.ELEMENT_ARRAY_BUFFER,new Uint16Array(t),r)},e.prototype.addPosition=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"aPosition";this._vertices=t,this._vertexSize=this._vertices.length,this._numItems=this._vertexSize/3,this.addAttribute(t,e)},e.prototype.addAttribute=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=this.program.gl,i=r.createBuffer();r.bindBuffer(r.ARRAY_BUFFER,i),r.bufferData(r.ARRAY_BUFFER,new Float32Array(t),r.STATIC_DRAW),this._attributes.push({name:e,data:t,itemSize:n,numItems:this._numItems,buffer:i}),this.program.addAttributeLocation(e)},e}(c.default);e.default=l,t.exports=e.default},function(t,e,n){(function(t){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.FrameBuffer=e.geometry=e.State=e.control=e.cameras=e.CONST=e.DataTexture=e.Texture=e.utils=e.GL=e.Program=e.init=void 0;var a=n(45),o=i(a),s=n(53),u=i(s),h=n(43),c=i(h),l=n(44),f=i(l),d=n(59),p=i(d),v=n(58),m=i(v),M=n(47),_=i(M),g=n(49),b=i(g),x=n(4),y=i(x),E=n(12),w=i(E),T=n(61),P=r(T),O=function(t){var e=void 0;try{e=t.getContext("webgl"),POLY.gl=e,POLY.GL.init(e)}catch(t){}e||console.warn("Could not initialise WebGL")};e.init=O,e.Program=o.default,e.GL=f.default,e.utils=P,e.Texture=p.default,e.DataTexture=m.default,e.CONST=w.default,e.cameras=_.default,e.control=b.default,e.State=y.default,e.geometry=u.default,e.FrameBuffer=c.default,t.POLY=e}).call(e,function(){return this}())},function(t,e,n){"use strict";function r(t,e,n){if(o.call(this),n=n||{},"string"!=typeof t||"string"!=typeof e)throw new Error("Both name and url are required for constructing a resource.");this.name=t,this.url=e,this.isDataUrl=0===this.url.indexOf("data:"),this.data=null,this.crossOrigin=n.crossOrigin===!0?"anonymous":n.crossOrigin,this.loadType=n.loadType||this._determineLoadType(),this.xhrType=n.xhrType,this.metadata=n.metadata||{},this.error=null,this.xhr=null,this.isJson=!1,this.isXml=!1,this.isImage=!1,this.isAudio=!1,this.isVideo=!1,this.isComplete=!1,this.isLoading=!1,this._dequeue=null,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this._boundXdrOnTimeout=this._xdrOnTimeout.bind(this)}function i(t){return t.toString().replace("object ","")}function a(t,e,n){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=n)}var o=n(6),s=n(8),u=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),h=null,c=0,l=200,f=204;r.prototype=Object.create(o.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.complete=function(){if(this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null)),this.isComplete)throw new Error("Complete called again for an already completed resource.");this.isComplete=!0,this.isLoading=!1,this.emit("complete",this)},r.prototype.abort=function(t){if(!this.error){if(this.error=new Error(t),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if("undefined"!=typeof this.data.src)this.data.src="";else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this.complete()}},r.prototype.load=function(t){if(!this.isLoading)if(this.isComplete){if(t){var e=this;setTimeout(function(){t(e)},1)}}else switch(t&&this.once("complete",t),this.isLoading=!0,this.emit("start",this),this.crossOrigin!==!1&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case r.LOAD_TYPE.IMAGE:this._loadElement("image");break;case r.LOAD_TYPE.AUDIO:this._loadSourceElement("audio");break;case r.LOAD_TYPE.VIDEO:this._loadSourceElement("video");break;case r.LOAD_TYPE.XHR:default:u&&this.crossOrigin?this._loadXdr():this._loadXhr()}},r.prototype._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&"undefined"!=typeof window.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url);var e="is"+t[0].toUpperCase()+t.substring(1);this[e]===!1&&(this[e]=!0),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1)},r.prototype._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&"undefined"!=typeof window.Audio?this.data=new Audio:this.data=document.createElement(t),null===this.data)return void this.abort("Unsupported element "+t);if(!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=0;e<this.url.length;++e)this.data.appendChild(this._createSource(t,this.url[e]));else this.data.appendChild(this._createSource(t,this.url));this["is"+t[0].toUpperCase()+t.substring(1)]=!0,this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load()},r.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XMLHttpRequest;t.open("GET",this.url,!0),this.xhrType===r.XHR_RESPONSE_TYPE.JSON||this.xhrType===r.XHR_RESPONSE_TYPE.DOCUMENT?t.responseType=r.XHR_RESPONSE_TYPE.TEXT:t.responseType=this.xhrType,t.addEventListener("error",this._boundXhrOnError,!1),t.addEventListener("abort",this._boundXhrOnAbort,!1),t.addEventListener("progress",this._boundOnProgress,!1),t.addEventListener("load",this._boundXhrOnLoad,!1),t.send()},r.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXdrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){t.send()},0)},r.prototype._createSource=function(t,e,n){n||(n=t+"/"+e.substr(e.lastIndexOf(".")+1));var r=document.createElement("source");return r.src=e,r.type=n,r},r.prototype._onError=function(t){this.abort("Failed to load element using "+t.target.nodeName)},r.prototype._onProgress=function(t){t&&t.lengthComputable&&this.emit("progress",this,t.loaded/t.total)},r.prototype._xhrOnError=function(){var t=this.xhr;this.abort(i(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},r.prototype._xhrOnAbort=function(){this.abort(i(this.xhr)+" Request was aborted by the user.")},r.prototype._xdrOnTimeout=function(){this.abort(i(this.xhr)+" Request timed out.")},r.prototype._xhrOnLoad=function(){var t=this.xhr,e="undefined"==typeof t.status?t.status:l;if(!(e===l||e===f||e===c&&t.responseText.length>0))return void this.abort("["+t.status+"]"+t.statusText+":"+t.responseURL);if(this.xhrType===r.XHR_RESPONSE_TYPE.TEXT)this.data=t.responseText;else if(this.xhrType===r.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(t.responseText),this.isJson=!0}catch(t){return void this.abort("Error trying to parse loaded json:",t)}else if(this.xhrType===r.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var n=new DOMParser;this.data=n.parseFromString(t.responseText,"text/xml")}else{var i=document.createElement("div");i.innerHTML=t.responseText,this.data=i}this.isXml=!0}catch(t){return void this.abort("Error trying to parse loaded xml:",t)}else this.data=t.response||t.responseText;this.complete()},r.prototype._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";e=e||window.location,h||(h=document.createElement("a")),h.href=t,t=s(h.href,{strictMode:!0});var n=!t.port&&""===e.port||t.port===e.port,r=t.protocol?t.protocol+":":"";return t.host===e.hostname&&n&&r===e.protocol?"":"anonymous"},r.prototype._determineXhrType=function(){return r._xhrTypeMap[this._getExtension()]||r.XHR_RESPONSE_TYPE.TEXT},r.prototype._determineLoadType=function(){return r._loadTypeMap[this._getExtension()]||r.LOAD_TYPE.XHR},r.prototype._getExtension=function(){var t=this.url,e="";if(this.isDataUrl){var n=t.indexOf("/");e=t.substring(n+1,t.indexOf(";",n))}else{var r=t.indexOf("?");r!==-1&&(t=t.substring(0,r)),e=t.substring(t.lastIndexOf(".")+1)}return e.toLowerCase()},r.prototype._getMimeFromXhrType=function(t){switch(t){case r.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case r.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case r.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case r.XHR_RESPONSE_TYPE.JSON:return"application/json";case r.XHR_RESPONSE_TYPE.DEFAULT:case r.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},r.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},r.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},r._loadTypeMap={gif:r.LOAD_TYPE.IMAGE,png:r.LOAD_TYPE.IMAGE,bmp:r.LOAD_TYPE.IMAGE,jpg:r.LOAD_TYPE.IMAGE,jpeg:r.LOAD_TYPE.IMAGE,tif:r.LOAD_TYPE.IMAGE,tiff:r.LOAD_TYPE.IMAGE,webp:r.LOAD_TYPE.IMAGE,tga:r.LOAD_TYPE.IMAGE,"svg+xml":r.LOAD_TYPE.IMAGE},r._xhrTypeMap={xhtml:r.XHR_RESPONSE_TYPE.DOCUMENT,html:r.XHR_RESPONSE_TYPE.DOCUMENT,htm:r.XHR_RESPONSE_TYPE.DOCUMENT,xml:r.XHR_RESPONSE_TYPE.DOCUMENT,tmx:r.XHR_RESPONSE_TYPE.DOCUMENT,tsx:r.XHR_RESPONSE_TYPE.DOCUMENT,svg:r.XHR_RESPONSE_TYPE.DOCUMENT,gif:r.XHR_RESPONSE_TYPE.BLOB,png:r.XHR_RESPONSE_TYPE.BLOB,bmp:r.XHR_RESPONSE_TYPE.BLOB,jpg:r.XHR_RESPONSE_TYPE.BLOB,jpeg:r.XHR_RESPONSE_TYPE.BLOB,tif:r.XHR_RESPONSE_TYPE.BLOB,tiff:r.XHR_RESPONSE_TYPE.BLOB,webp:r.XHR_RESPONSE_TYPE.BLOB,tga:r.XHR_RESPONSE_TYPE.BLOB,json:r.XHR_RESPONSE_TYPE.JSON,text:r.XHR_RESPONSE_TYPE.TEXT,txt:r.XHR_RESPONSE_TYPE.TEXT},r.setExtensionLoadType=function(t,e){a(r._loadTypeMap,t,e)},r.setExtensionXhrType=function(t,e){a(r._xhrTypeMap,t,e)}},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=0,a=1,o=2,s=3,u=4,h=function(){function t(e){n(this,t),this.gl=e,this.activeState=new Uint8Array(16),this.defaultState=new Uint8Array(16),this.data=0,this.blendMode=0,this.blendModes={source:{alpha:this.gl.SRC_ALPHA},dest:{one:this.gl.ONE}}}return t.prototype.setState=function(t){this.setBlend(t.activeState[i]),this.setDepthTest(t.activeState[a]),this.setFrontFace(t.activeState[o]),this.setCullFace(t.activeState[s]),this.setBlendMode(t.activeState[u])},t.prototype.setBlend=function(t){t=t?1:0,this.activeState[i]!==t&&(this.activeState[i]=t,this.gl[t?"enable":"disable"](this.gl.BLEND))},t.prototype.setBlendMode=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"alpha",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"one";t!==this.activeState[u]&&(this.activeState[u]=t,this.gl.blendFunc(this.blendModes.source[e],this.blendModes.dest[n]))},t.prototype.setDepthTest=function(t){t=t?1:0,this.activeState[a]!==t&&(this.activeState[a]=t,this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST))},t.prototype.setCullFace=function(t){t=t?1:0,this.activeState[s]!==t&&(this.activeState[s]=t,this.gl[t?"enable":"disable"](this.gl.CULL_FACE))},t.prototype.setFrontFace=function(t){t=t?1:0,this.activeState[o]!==t&&(this.activeState[o]=t,this.gl.frontFace(this.gl[t?"CW":"CCW"]))},r(t,[{key:"blend",get:function(){return this.activeState[i]},set:function(t){this.activeState[i]=t}},{key:"culling",get:function(){return this.activeState[CULLING]},set:function(t){this.activeState[CULLING]=t}},{key:"depthTest",get:function(){return this.activeState[a]},set:function(t){this.activeState[a]=t}},{key:"clockwiseFrontFace",get:function(){return this.activeState[o]},set:function(t){this.activeState[o]=t}},{key:"blendMode",get:function(){return this.activeState[u]},set:function(t){this.activeState[u]=t}}]),t}();e.default=h,t.exports=e.default},function(t,e,n){!function(e,n){t.exports=n()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=4)}([function(t,e,n){"use strict";function r(t){e.ARRAY_TYPE=s=t}function i(t){return t*u}function a(t,e){return Math.abs(t-e)<=o*Math.max(1,Math.abs(t),Math.abs(e))}Object.defineProperty(e,"__esModule",{value:!0}),e.setMatrixArrayType=r,e.toRadian=i,e.equals=a;var o=e.EPSILON=1e-6,s=e.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,u=(e.RANDOM=Math.random,Math.PI/180)},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(){var t=new D.ARRAY_TYPE(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function a(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function o(t){var e=new D.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function s(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function u(t,e,n,r,i,a,o,s,u){var h=new D.ARRAY_TYPE(9);return h[0]=t,h[1]=e,h[2]=n,h[3]=r,h[4]=i,h[5]=a,h[6]=o,h[7]=s,h[8]=u,h}function h(t,e,n,r,i,a,o,s,u,h){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=a,t[5]=o,t[6]=s,t[7]=u,t[8]=h,t}function c(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function l(t,e){if(t===e){var n=e[1],r=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function f(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],h=e[7],c=e[8],l=c*o-s*h,f=-c*a+s*u,d=h*a-o*u,p=n*l+r*f+i*d;return p?(p=1/p,t[0]=l*p,t[1]=(-c*r+i*h)*p,t[2]=(s*r-i*o)*p,t[3]=f*p,t[4]=(c*n-i*u)*p,t[5]=(-s*n+i*a)*p,t[6]=d*p,t[7]=(-h*n+r*u)*p,t[8]=(o*n-r*a)*p,t):null}function d(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],h=e[7],c=e[8];return t[0]=o*c-s*h,t[1]=i*h-r*c,t[2]=r*s-i*o,t[3]=s*u-a*c,t[4]=n*c-i*u,t[5]=i*a-n*s,t[6]=a*h-o*u,t[7]=r*u-n*h,t[8]=n*o-r*a,t}function p(t){var e=t[0],n=t[1],r=t[2],i=t[3],a=t[4],o=t[5],s=t[6],u=t[7],h=t[8];return e*(h*a-o*u)+n*(-h*i+o*s)+r*(u*i-a*s)}function v(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],h=e[6],c=e[7],l=e[8],f=n[0],d=n[1],p=n[2],v=n[3],m=n[4],M=n[5],_=n[6],g=n[7],b=n[8];return t[0]=f*r+d*o+p*h,t[1]=f*i+d*s+p*c,t[2]=f*a+d*u+p*l,t[3]=v*r+m*o+M*h,t[4]=v*i+m*s+M*c,t[5]=v*a+m*u+M*l,t[6]=_*r+g*o+b*h,t[7]=_*i+g*s+b*c,t[8]=_*a+g*u+b*l,t}function m(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],h=e[6],c=e[7],l=e[8],f=n[0],d=n[1];return t[0]=r,t[1]=i,t[2]=a,t[3]=o,t[4]=s,t[5]=u,t[6]=f*r+d*o+h,t[7]=f*i+d*s+c,t[8]=f*a+d*u+l,t}function M(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],h=e[6],c=e[7],l=e[8],f=Math.sin(n),d=Math.cos(n);return t[0]=d*r+f*o,t[1]=d*i+f*s,t[2]=d*a+f*u,t[3]=d*o-f*r,t[4]=d*s-f*i,t[5]=d*u-f*a,t[6]=h,t[7]=c,t[8]=l,t}function _(t,e,n){var r=n[0],i=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function g(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function b(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function x(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function y(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function E(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n+n,s=r+r,u=i+i,h=n*o,c=r*o,l=r*s,f=i*o,d=i*s,p=i*u,v=a*o,m=a*s,M=a*u;return t[0]=1-l-p,t[3]=c-M,t[6]=f+m,t[1]=c+M,t[4]=1-h-p,t[7]=d-v,t[2]=f-m,t[5]=d+v,t[8]=1-h-l,t}function w(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],h=e[7],c=e[8],l=e[9],f=e[10],d=e[11],p=e[12],v=e[13],m=e[14],M=e[15],_=n*s-r*o,g=n*u-i*o,b=n*h-a*o,x=r*u-i*s,y=r*h-a*s,E=i*h-a*u,w=c*v-l*p,T=c*m-f*p,P=c*M-d*p,O=l*m-f*v,L=l*M-d*v,R=f*M-d*m,S=_*R-g*L+b*O+x*P-y*T+E*w;return S?(S=1/S,t[0]=(s*R-u*L+h*O)*S,t[1]=(u*P-o*R-h*T)*S,t[2]=(o*L-s*P+h*w)*S,t[3]=(i*L-r*R-a*O)*S,t[4]=(n*R-i*P+a*T)*S,t[5]=(r*P-n*L-a*w)*S,t[6]=(v*E-m*y+M*x)*S,t[7]=(m*b-p*E-M*g)*S,t[8]=(p*y-v*b+M*_)*S,t):null}function T(t,e,n){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function P(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function O(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))}function L(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t}function R(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t}function S(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t}function A(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t}function N(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function q(t,e){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],u=t[6],h=t[7],c=t[8],l=e[0],f=e[1],d=e[2],p=e[3],v=e[4],m=e[5],M=e[6],_=e[7],g=e[8];return Math.abs(n-l)<=D.EPSILON*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(r-f)<=D.EPSILON*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(i-d)<=D.EPSILON*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(a-p)<=D.EPSILON*Math.max(1,Math.abs(a),Math.abs(p))&&Math.abs(o-v)<=D.EPSILON*Math.max(1,Math.abs(o),Math.abs(v))&&Math.abs(s-m)<=D.EPSILON*Math.max(1,Math.abs(s),Math.abs(m))&&Math.abs(u-M)<=D.EPSILON*Math.max(1,Math.abs(u),Math.abs(M))&&Math.abs(h-_)<=D.EPSILON*Math.max(1,Math.abs(h),Math.abs(_))&&Math.abs(c-g)<=D.EPSILON*Math.max(1,Math.abs(c),Math.abs(g))}Object.defineProperty(e,"__esModule",{value:!0}),e.sub=e.mul=void 0,e.create=i,e.fromMat4=a,e.clone=o,e.copy=s,e.fromValues=u,e.set=h,e.identity=c,e.transpose=l,e.invert=f,e.adjoint=d,e.determinant=p,e.multiply=v,e.translate=m,e.rotate=M,e.scale=_,e.fromTranslation=g,e.fromRotation=b,e.fromScaling=x,e.fromMat2d=y,e.fromQuat=E,e.normalFromMat4=w,e.projection=T,e.str=P,e.frob=O,e.add=L,e.subtract=R,e.multiplyScalar=S,e.multiplyScalarAndAdd=A,e.exactEquals=N,e.equals=q;var I=n(0),D=r(I);e.mul=v,e.sub=R},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(){var t=new z.ARRAY_TYPE(3);return t[0]=0,t[1]=0,t[2]=0,t}function a(t){var e=new z.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function o(t){var e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)}function s(t,e,n){var r=new z.ARRAY_TYPE(3);return r[0]=t,r[1]=e,r[2]=n,r}function u(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function h(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}function c(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function l(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function f(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function d(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function p(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function v(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function m(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t}function M(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t}function _(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function g(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function b(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t}function x(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.sqrt(n*n+r*r+i*i)}function y(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return n*n+r*r+i*i}function E(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}function w(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function T(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function P(t,e){var n=e[0],r=e[1],i=e[2],a=n*n+r*r+i*i;return a>0&&(a=1/Math.sqrt(a),t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a),t}function O(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function L(t,e,n){var r=e[0],i=e[1],a=e[2],o=n[0],s=n[1],u=n[2];return t[0]=i*u-a*s,t[1]=a*o-r*u,t[2]=r*s-i*o,t}function R(t,e,n,r){var i=e[0],a=e[1],o=e[2];return t[0]=i+r*(n[0]-i),t[1]=a+r*(n[1]-a),t[2]=o+r*(n[2]-o),t}function S(t,e,n,r,i,a){var o=a*a,s=o*(2*a-3)+1,u=o*(a-2)+a,h=o*(a-1),c=o*(3-2*a);return t[0]=e[0]*s+n[0]*u+r[0]*h+i[0]*c,t[1]=e[1]*s+n[1]*u+r[1]*h+i[1]*c,t[2]=e[2]*s+n[2]*u+r[2]*h+i[2]*c,t}function A(t,e,n,r,i,a){var o=1-a,s=o*o,u=a*a,h=s*o,c=3*a*s,l=3*u*o,f=u*a;return t[0]=e[0]*h+n[0]*c+r[0]*l+i[0]*f,t[1]=e[1]*h+n[1]*c+r[1]*l+i[1]*f,t[2]=e[2]*h+n[2]*c+r[2]*l+i[2]*f,t}function N(t,e){e=e||1;var n=2*z.RANDOM()*Math.PI,r=2*z.RANDOM()-1,i=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(n)*i,t[1]=Math.sin(n)*i,t[2]=r*e,t}function q(t,e,n){var r=e[0],i=e[1],a=e[2],o=n[3]*r+n[7]*i+n[11]*a+n[15];return o=o||1,t[0]=(n[0]*r+n[4]*i+n[8]*a+n[12])/o,t[1]=(n[1]*r+n[5]*i+n[9]*a+n[13])/o,t[2]=(n[2]*r+n[6]*i+n[10]*a+n[14])/o,t}function I(t,e,n){var r=e[0],i=e[1],a=e[2];return t[0]=r*n[0]+i*n[3]+a*n[6],t[1]=r*n[1]+i*n[4]+a*n[7],t[2]=r*n[2]+i*n[5]+a*n[8],t}function D(t,e,n){var r=e[0],i=e[1],a=e[2],o=n[0],s=n[1],u=n[2],h=n[3],c=h*r+s*a-u*i,l=h*i+u*r-o*a,f=h*a+o*i-s*r,d=-o*r-s*i-u*a;return t[0]=c*h+d*-o+l*-u-f*-s,t[1]=l*h+d*-s+f*-o-c*-u,t[2]=f*h+d*-u+c*-s-l*-o,t}function C(t,e,n,r){var i=[],a=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],a[0]=i[0],a[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),a[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t}function j(t,e,n,r){var i=[],a=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],a[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),a[1]=i[1],a[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t}function Y(t,e,n,r){var i=[],a=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],a[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),a[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),a[2]=i[2],t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t}function U(t,e){var n=s(t[0],t[1],t[2]),r=s(e[0],e[1],e[2]);P(n,n),P(r,r);var i=O(n,r);return i>1?0:i<-1?Math.PI:Math.acos(i)}function F(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function X(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function B(t,e){var n=t[0],r=t[1],i=t[2],a=e[0],o=e[1],s=e[2];return Math.abs(n-a)<=z.EPSILON*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-o)<=z.EPSILON*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(i-s)<=z.EPSILON*Math.max(1,Math.abs(i),Math.abs(s))}Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=e.sqrLen=e.len=e.sqrDist=e.dist=e.div=e.mul=e.sub=void 0,e.create=i,e.clone=a,e.length=o,e.fromValues=s,e.copy=u,e.set=h,e.add=c,e.subtract=l,e.multiply=f,e.divide=d,e.ceil=p,e.floor=v,e.min=m,e.max=M,e.round=_,e.scale=g,e.scaleAndAdd=b,e.distance=x,e.squaredDistance=y,e.squaredLength=E,e.negate=w,e.inverse=T,e.normalize=P,e.dot=O,e.cross=L,e.lerp=R,e.hermite=S,e.bezier=A,e.random=N,e.transformMat4=q,e.transformMat3=I,e.transformQuat=D,e.rotateX=C,e.rotateY=j,e.rotateZ=Y,e.angle=U,e.str=F,e.exactEquals=X,e.equals=B;var k=n(0),z=r(k);e.sub=l,e.mul=f,e.div=d,e.dist=x,e.sqrDist=y,e.len=o,e.sqrLen=E,e.forEach=function(){var t=i();return function(e,n,r,i,a,o){var s=void 0,u=void 0;for(n||(n=3),r||(r=0),u=i?Math.min(i*n+r,e.length):e.length,s=r;s<u;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],a(t,t,o),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2];return e}}()},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(){var t=new C.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function a(t){var e=new C.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function o(t,e,n,r){var i=new C.ARRAY_TYPE(4);return i[0]=t,i[1]=e,i[2]=n,i[3]=r,i}function s(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function u(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function h(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t}function c(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}function l(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t}function f(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t[3]=e[3]/n[3],t}function d(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t}function p(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t}function v(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t[3]=Math.min(e[3],n[3]),t}function m(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t[3]=Math.max(e[3],n[3]),t}function M(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t}function _(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function g(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t}function b(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],a=e[3]-t[3];return Math.sqrt(n*n+r*r+i*i+a*a)}function x(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],a=e[3]-t[3];return n*n+r*r+i*i+a*a}function y(t){var e=t[0],n=t[1],r=t[2],i=t[3];return Math.sqrt(e*e+n*n+r*r+i*i)}function E(t){var e=t[0],n=t[1],r=t[2],i=t[3];return e*e+n*n+r*r+i*i}function w(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t}function T(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t}function P(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n*n+r*r+i*i+a*a;return o>0&&(o=1/Math.sqrt(o),t[0]=n*o,t[1]=r*o,t[2]=i*o,t[3]=a*o),t}function O(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function L(t,e,n,r){var i=e[0],a=e[1],o=e[2],s=e[3];return t[0]=i+r*(n[0]-i),t[1]=a+r*(n[1]-a),t[2]=o+r*(n[2]-o),t[3]=s+r*(n[3]-s),t}function R(t,e){return e=e||1,t[0]=C.RANDOM(),t[1]=C.RANDOM(),t[2]=C.RANDOM(),t[3]=C.RANDOM(),P(t,t),_(t,t,e),t}function S(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*a+n[12]*o,t[1]=n[1]*r+n[5]*i+n[9]*a+n[13]*o,t[2]=n[2]*r+n[6]*i+n[10]*a+n[14]*o,t[3]=n[3]*r+n[7]*i+n[11]*a+n[15]*o,t}function A(t,e,n){var r=e[0],i=e[1],a=e[2],o=n[0],s=n[1],u=n[2],h=n[3],c=h*r+s*a-u*i,l=h*i+u*r-o*a,f=h*a+o*i-s*r,d=-o*r-s*i-u*a;return t[0]=c*h+d*-o+l*-u-f*-s,t[1]=l*h+d*-s+f*-o-c*-u,t[2]=f*h+d*-u+c*-s-l*-o,t[3]=e[3],t}function N(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function q(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function I(t,e){var n=t[0],r=t[1],i=t[2],a=t[3],o=e[0],s=e[1],u=e[2],h=e[3];return Math.abs(n-o)<=C.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-s)<=C.EPSILON*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(i-u)<=C.EPSILON*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(a-h)<=C.EPSILON*Math.max(1,Math.abs(a),Math.abs(h))}Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=e.sqrLen=e.len=e.sqrDist=e.dist=e.div=e.mul=e.sub=void 0,e.create=i,e.clone=a,e.fromValues=o,e.copy=s,e.set=u,e.add=h,e.subtract=c,e.multiply=l,e.divide=f,e.ceil=d,e.floor=p,e.min=v,e.max=m,e.round=M,e.scale=_,e.scaleAndAdd=g,e.distance=b,e.squaredDistance=x,e.length=y,e.squaredLength=E,e.negate=w,e.inverse=T,e.normalize=P,e.dot=O,e.lerp=L,e.random=R,e.transformMat4=S,e.transformQuat=A,e.str=N,e.exactEquals=q,e.equals=I;var D=n(0),C=r(D);e.sub=c,e.mul=l,e.div=f,e.dist=b,e.sqrDist=x,e.len=y,e.sqrLen=E,e.forEach=function(){var t=i();return function(e,n,r,i,a,o){var s=void 0,u=void 0;for(n||(n=4),r||(r=0),u=i?Math.min(i*n+r,e.length):e.length,s=r;s<u;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],t[3]=e[s+3],a(t,t,o),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2],e[s+3]=t[3];return e}}()},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}Object.defineProperty(e,"__esModule",{value:!0}),e.vec4=e.vec3=e.vec2=e.quat=e.mat4=e.mat3=e.mat2d=e.mat2=e.glMatrix=void 0;var i=n(0),a=r(i),o=n(5),s=r(o),u=n(6),h=r(u),c=n(1),l=r(c),f=n(7),d=r(f),p=n(8),v=r(p),m=n(9),M=r(m),_=n(2),g=r(_),b=n(3),x=r(b);
e.glMatrix=a,e.mat2=s,e.mat2d=h,e.mat3=l,e.mat4=d,e.quat=v,e.vec2=M,e.vec3=g,e.vec4=x},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(){var t=new R.ARRAY_TYPE(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function a(t){var e=new R.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function o(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function s(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function u(t,e,n,r){var i=new R.ARRAY_TYPE(4);return i[0]=t,i[1]=e,i[2]=n,i[3]=r,i}function h(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function c(t,e){if(t===e){var n=e[1];t[1]=e[2],t[2]=n}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t}function l(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n*a-i*r;return o?(o=1/o,t[0]=a*o,t[1]=-r*o,t[2]=-i*o,t[3]=n*o,t):null}function f(t,e){var n=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=n,t}function d(t){return t[0]*t[3]-t[2]*t[1]}function p(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=n[0],u=n[1],h=n[2],c=n[3];return t[0]=r*s+a*u,t[1]=i*s+o*u,t[2]=r*h+a*c,t[3]=i*h+o*c,t}function v(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+a*s,t[1]=i*u+o*s,t[2]=r*-s+a*u,t[3]=i*-s+o*u,t}function m(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=n[0],u=n[1];return t[0]=r*s,t[1]=i*s,t[2]=a*u,t[3]=o*u,t}function M(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t}function _(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t}function g(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function b(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))}function x(t,e,n,r){return t[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-t[2]*n[1],[t,e,n]}function y(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t}function E(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}function w(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function T(t,e){var n=t[0],r=t[1],i=t[2],a=t[3],o=e[0],s=e[1],u=e[2],h=e[3];return Math.abs(n-o)<=R.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-s)<=R.EPSILON*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(i-u)<=R.EPSILON*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(a-h)<=R.EPSILON*Math.max(1,Math.abs(a),Math.abs(h))}function P(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function O(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t}Object.defineProperty(e,"__esModule",{value:!0}),e.sub=e.mul=void 0,e.create=i,e.clone=a,e.copy=o,e.identity=s,e.fromValues=u,e.set=h,e.transpose=c,e.invert=l,e.adjoint=f,e.determinant=d,e.multiply=p,e.rotate=v,e.scale=m,e.fromRotation=M,e.fromScaling=_,e.str=g,e.frob=b,e.LDU=x,e.add=y,e.subtract=E,e.exactEquals=w,e.equals=T,e.multiplyScalar=P,e.multiplyScalarAndAdd=O;var L=n(0),R=r(L);e.mul=p,e.sub=E},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(){var t=new L.ARRAY_TYPE(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function a(t){var e=new L.ARRAY_TYPE(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function o(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function s(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function u(t,e,n,r,i,a){var o=new L.ARRAY_TYPE(6);return o[0]=t,o[1]=e,o[2]=n,o[3]=r,o[4]=i,o[5]=a,o}function h(t,e,n,r,i,a,o){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=a,t[5]=o,t}function c(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=n*a-r*i;return u?(u=1/u,t[0]=a*u,t[1]=-r*u,t[2]=-i*u,t[3]=n*u,t[4]=(i*s-a*o)*u,t[5]=(r*o-n*s)*u,t):null}function l(t){return t[0]*t[3]-t[1]*t[2]}function f(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],h=n[0],c=n[1],l=n[2],f=n[3],d=n[4],p=n[5];return t[0]=r*h+a*c,t[1]=i*h+o*c,t[2]=r*l+a*f,t[3]=i*l+o*f,t[4]=r*d+a*p+s,t[5]=i*d+o*p+u,t}function d(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],h=Math.sin(n),c=Math.cos(n);return t[0]=r*c+a*h,t[1]=i*c+o*h,t[2]=r*-h+a*c,t[3]=i*-h+o*c,t[4]=s,t[5]=u,t}function p(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],h=n[0],c=n[1];return t[0]=r*h,t[1]=i*h,t[2]=a*c,t[3]=o*c,t[4]=s,t[5]=u,t}function v(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],h=n[0],c=n[1];return t[0]=r,t[1]=i,t[2]=a,t[3]=o,t[4]=r*h+a*c+s,t[5]=i*h+o*c+u,t}function m(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t[4]=0,t[5]=0,t}function M(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t}function _(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t}function g(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"}function b(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)}function x(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t}function y(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t}function E(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t}function w(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t}function T(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]}function P(t,e){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],u=e[0],h=e[1],c=e[2],l=e[3],f=e[4],d=e[5];return Math.abs(n-u)<=L.EPSILON*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(r-h)<=L.EPSILON*Math.max(1,Math.abs(r),Math.abs(h))&&Math.abs(i-c)<=L.EPSILON*Math.max(1,Math.abs(i),Math.abs(c))&&Math.abs(a-l)<=L.EPSILON*Math.max(1,Math.abs(a),Math.abs(l))&&Math.abs(o-f)<=L.EPSILON*Math.max(1,Math.abs(o),Math.abs(f))&&Math.abs(s-d)<=L.EPSILON*Math.max(1,Math.abs(s),Math.abs(d))}Object.defineProperty(e,"__esModule",{value:!0}),e.sub=e.mul=void 0,e.create=i,e.clone=a,e.copy=o,e.identity=s,e.fromValues=u,e.set=h,e.invert=c,e.determinant=l,e.multiply=f,e.rotate=d,e.scale=p,e.translate=v,e.fromRotation=m,e.fromScaling=M,e.fromTranslation=_,e.str=g,e.frob=b,e.add=x,e.subtract=y,e.multiplyScalar=E,e.multiplyScalarAndAdd=w,e.exactEquals=T,e.equals=P;var O=n(0),L=r(O);e.mul=f,e.sub=y},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(){var t=new J.ARRAY_TYPE(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function a(t){var e=new J.ARRAY_TYPE(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function o(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function s(t,e,n,r,i,a,o,s,u,h,c,l,f,d,p,v){var m=new J.ARRAY_TYPE(16);return m[0]=t,m[1]=e,m[2]=n,m[3]=r,m[4]=i,m[5]=a,m[6]=o,m[7]=s,m[8]=u,m[9]=h,m[10]=c,m[11]=l,m[12]=f,m[13]=d,m[14]=p,m[15]=v,m}function u(t,e,n,r,i,a,o,s,u,h,c,l,f,d,p,v,m){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=a,t[5]=o,t[6]=s,t[7]=u,t[8]=h,t[9]=c,t[10]=l,t[11]=f,t[12]=d,t[13]=p,t[14]=v,t[15]=m,t}function h(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function c(t,e){if(t===e){var n=e[1],r=e[2],i=e[3],a=e[6],o=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=a,t[11]=e[14],t[12]=i,t[13]=o,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function l(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],h=e[7],c=e[8],l=e[9],f=e[10],d=e[11],p=e[12],v=e[13],m=e[14],M=e[15],_=n*s-r*o,g=n*u-i*o,b=n*h-a*o,x=r*u-i*s,y=r*h-a*s,E=i*h-a*u,w=c*v-l*p,T=c*m-f*p,P=c*M-d*p,O=l*m-f*v,L=l*M-d*v,R=f*M-d*m,S=_*R-g*L+b*O+x*P-y*T+E*w;return S?(S=1/S,t[0]=(s*R-u*L+h*O)*S,t[1]=(i*L-r*R-a*O)*S,t[2]=(v*E-m*y+M*x)*S,t[3]=(f*y-l*E-d*x)*S,t[4]=(u*P-o*R-h*T)*S,t[5]=(n*R-i*P+a*T)*S,t[6]=(m*b-p*E-M*g)*S,t[7]=(c*E-f*b+d*g)*S,t[8]=(o*L-s*P+h*w)*S,t[9]=(r*P-n*L-a*w)*S,t[10]=(p*y-v*b+M*_)*S,t[11]=(l*b-c*y-d*_)*S,t[12]=(s*T-o*O-u*w)*S,t[13]=(n*O-r*T+i*w)*S,t[14]=(v*g-p*x-m*_)*S,t[15]=(c*x-l*g+f*_)*S,t):null}function f(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],h=e[7],c=e[8],l=e[9],f=e[10],d=e[11],p=e[12],v=e[13],m=e[14],M=e[15];return t[0]=s*(f*M-d*m)-l*(u*M-h*m)+v*(u*d-h*f),t[1]=-(r*(f*M-d*m)-l*(i*M-a*m)+v*(i*d-a*f)),t[2]=r*(u*M-h*m)-s*(i*M-a*m)+v*(i*h-a*u),t[3]=-(r*(u*d-h*f)-s*(i*d-a*f)+l*(i*h-a*u)),t[4]=-(o*(f*M-d*m)-c*(u*M-h*m)+p*(u*d-h*f)),t[5]=n*(f*M-d*m)-c*(i*M-a*m)+p*(i*d-a*f),t[6]=-(n*(u*M-h*m)-o*(i*M-a*m)+p*(i*h-a*u)),t[7]=n*(u*d-h*f)-o*(i*d-a*f)+c*(i*h-a*u),t[8]=o*(l*M-d*v)-c*(s*M-h*v)+p*(s*d-h*l),t[9]=-(n*(l*M-d*v)-c*(r*M-a*v)+p*(r*d-a*l)),t[10]=n*(s*M-h*v)-o*(r*M-a*v)+p*(r*h-a*s),t[11]=-(n*(s*d-h*l)-o*(r*d-a*l)+c*(r*h-a*s)),t[12]=-(o*(l*m-f*v)-c*(s*m-u*v)+p*(s*f-u*l)),t[13]=n*(l*m-f*v)-c*(r*m-i*v)+p*(r*f-i*l),t[14]=-(n*(s*m-u*v)-o*(r*m-i*v)+p*(r*u-i*s)),t[15]=n*(s*f-u*l)-o*(r*f-i*l)+c*(r*u-i*s),t}function d(t){var e=t[0],n=t[1],r=t[2],i=t[3],a=t[4],o=t[5],s=t[6],u=t[7],h=t[8],c=t[9],l=t[10],f=t[11],d=t[12],p=t[13],v=t[14],m=t[15],M=e*o-n*a,_=e*s-r*a,g=e*u-i*a,b=n*s-r*o,x=n*u-i*o,y=r*u-i*s,E=h*p-c*d,w=h*v-l*d,T=h*m-f*d,P=c*v-l*p,O=c*m-f*p,L=l*m-f*v;return M*L-_*O+g*P+b*T-x*w+y*E}function p(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],h=e[6],c=e[7],l=e[8],f=e[9],d=e[10],p=e[11],v=e[12],m=e[13],M=e[14],_=e[15],g=n[0],b=n[1],x=n[2],y=n[3];return t[0]=g*r+b*s+x*l+y*v,t[1]=g*i+b*u+x*f+y*m,t[2]=g*a+b*h+x*d+y*M,t[3]=g*o+b*c+x*p+y*_,g=n[4],b=n[5],x=n[6],y=n[7],t[4]=g*r+b*s+x*l+y*v,t[5]=g*i+b*u+x*f+y*m,t[6]=g*a+b*h+x*d+y*M,t[7]=g*o+b*c+x*p+y*_,g=n[8],b=n[9],x=n[10],y=n[11],t[8]=g*r+b*s+x*l+y*v,t[9]=g*i+b*u+x*f+y*m,t[10]=g*a+b*h+x*d+y*M,t[11]=g*o+b*c+x*p+y*_,g=n[12],b=n[13],x=n[14],y=n[15],t[12]=g*r+b*s+x*l+y*v,t[13]=g*i+b*u+x*f+y*m,t[14]=g*a+b*h+x*d+y*M,t[15]=g*o+b*c+x*p+y*_,t}function v(t,e,n){var r=n[0],i=n[1],a=n[2],o=void 0,s=void 0,u=void 0,h=void 0,c=void 0,l=void 0,f=void 0,d=void 0,p=void 0,v=void 0,m=void 0,M=void 0;return e===t?(t[12]=e[0]*r+e[4]*i+e[8]*a+e[12],t[13]=e[1]*r+e[5]*i+e[9]*a+e[13],t[14]=e[2]*r+e[6]*i+e[10]*a+e[14],t[15]=e[3]*r+e[7]*i+e[11]*a+e[15]):(o=e[0],s=e[1],u=e[2],h=e[3],c=e[4],l=e[5],f=e[6],d=e[7],p=e[8],v=e[9],m=e[10],M=e[11],t[0]=o,t[1]=s,t[2]=u,t[3]=h,t[4]=c,t[5]=l,t[6]=f,t[7]=d,t[8]=p,t[9]=v,t[10]=m,t[11]=M,t[12]=o*r+c*i+p*a+e[12],t[13]=s*r+l*i+v*a+e[13],t[14]=u*r+f*i+m*a+e[14],t[15]=h*r+d*i+M*a+e[15]),t}function m(t,e,n){var r=n[0],i=n[1],a=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*a,t[9]=e[9]*a,t[10]=e[10]*a,t[11]=e[11]*a,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function M(t,e,n,r){var i=r[0],a=r[1],o=r[2],s=Math.sqrt(i*i+a*a+o*o),u=void 0,h=void 0,c=void 0,l=void 0,f=void 0,d=void 0,p=void 0,v=void 0,m=void 0,M=void 0,_=void 0,g=void 0,b=void 0,x=void 0,y=void 0,E=void 0,w=void 0,T=void 0,P=void 0,O=void 0,L=void 0,R=void 0,S=void 0,A=void 0;return Math.abs(s)<J.EPSILON?null:(s=1/s,i*=s,a*=s,o*=s,u=Math.sin(n),h=Math.cos(n),c=1-h,l=e[0],f=e[1],d=e[2],p=e[3],v=e[4],m=e[5],M=e[6],_=e[7],g=e[8],b=e[9],x=e[10],y=e[11],E=i*i*c+h,w=a*i*c+o*u,T=o*i*c-a*u,P=i*a*c-o*u,O=a*a*c+h,L=o*a*c+i*u,R=i*o*c+a*u,S=a*o*c-i*u,A=o*o*c+h,t[0]=l*E+v*w+g*T,t[1]=f*E+m*w+b*T,t[2]=d*E+M*w+x*T,t[3]=p*E+_*w+y*T,t[4]=l*P+v*O+g*L,t[5]=f*P+m*O+b*L,t[6]=d*P+M*O+x*L,t[7]=p*P+_*O+y*L,t[8]=l*R+v*S+g*A,t[9]=f*R+m*S+b*A,t[10]=d*R+M*S+x*A,t[11]=p*R+_*S+y*A,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function _(t,e,n){var r=Math.sin(n),i=Math.cos(n),a=e[4],o=e[5],s=e[6],u=e[7],h=e[8],c=e[9],l=e[10],f=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=a*i+h*r,t[5]=o*i+c*r,t[6]=s*i+l*r,t[7]=u*i+f*r,t[8]=h*i-a*r,t[9]=c*i-o*r,t[10]=l*i-s*r,t[11]=f*i-u*r,t}function g(t,e,n){var r=Math.sin(n),i=Math.cos(n),a=e[0],o=e[1],s=e[2],u=e[3],h=e[8],c=e[9],l=e[10],f=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*i-h*r,t[1]=o*i-c*r,t[2]=s*i-l*r,t[3]=u*i-f*r,t[8]=a*r+h*i,t[9]=o*r+c*i,t[10]=s*r+l*i,t[11]=u*r+f*i,t}function b(t,e,n){var r=Math.sin(n),i=Math.cos(n),a=e[0],o=e[1],s=e[2],u=e[3],h=e[4],c=e[5],l=e[6],f=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*i+h*r,t[1]=o*i+c*r,t[2]=s*i+l*r,t[3]=u*i+f*r,t[4]=h*i-a*r,t[5]=c*i-o*r,t[6]=l*i-s*r,t[7]=f*i-u*r,t}function x(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function y(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function E(t,e,n){var r=n[0],i=n[1],a=n[2],o=Math.sqrt(r*r+i*i+a*a),s=void 0,u=void 0,h=void 0;return Math.abs(o)<J.EPSILON?null:(o=1/o,r*=o,i*=o,a*=o,s=Math.sin(e),u=Math.cos(e),h=1-u,t[0]=r*r*h+u,t[1]=i*r*h+a*s,t[2]=a*r*h-i*s,t[3]=0,t[4]=r*i*h-a*s,t[5]=i*i*h+u,t[6]=a*i*h+r*s,t[7]=0,t[8]=r*a*h+i*s,t[9]=i*a*h-r*s,t[10]=a*a*h+u,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function w(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function T(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function P(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function O(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=r+r,u=i+i,h=a+a,c=r*s,l=r*u,f=r*h,d=i*u,p=i*h,v=a*h,m=o*s,M=o*u,_=o*h;return t[0]=1-(d+v),t[1]=l+_,t[2]=f-M,t[3]=0,t[4]=l-_,t[5]=1-(c+v),t[6]=p+m,t[7]=0,t[8]=f+M,t[9]=p-m,t[10]=1-(c+d),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function L(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function R(t,e){var n=e[0],r=e[1],i=e[2],a=e[4],o=e[5],s=e[6],u=e[8],h=e[9],c=e[10];return t[0]=Math.sqrt(n*n+r*r+i*i),t[1]=Math.sqrt(a*a+o*o+s*s),t[2]=Math.sqrt(u*u+h*h+c*c),t}function S(t,e){var n=e[0]+e[5]+e[10],r=0;return n>0?(r=2*Math.sqrt(n+1),t[3]=.25*r,t[0]=(e[6]-e[9])/r,t[1]=(e[8]-e[2])/r,t[2]=(e[1]-e[4])/r):e[0]>e[5]&e[0]>e[10]?(r=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/r,t[0]=.25*r,t[1]=(e[1]+e[4])/r,t[2]=(e[8]+e[2])/r):e[5]>e[10]?(r=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/r,t[0]=(e[1]+e[4])/r,t[1]=.25*r,t[2]=(e[6]+e[9])/r):(r=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/r,t[0]=(e[8]+e[2])/r,t[1]=(e[6]+e[9])/r,t[2]=.25*r),t}function A(t,e,n,r){var i=e[0],a=e[1],o=e[2],s=e[3],u=i+i,h=a+a,c=o+o,l=i*u,f=i*h,d=i*c,p=a*h,v=a*c,m=o*c,M=s*u,_=s*h,g=s*c,b=r[0],x=r[1],y=r[2];return t[0]=(1-(p+m))*b,t[1]=(f+g)*b,t[2]=(d-_)*b,t[3]=0,t[4]=(f-g)*x,t[5]=(1-(l+m))*x,t[6]=(v+M)*x,t[7]=0,t[8]=(d+_)*y,t[9]=(v-M)*y,t[10]=(1-(l+p))*y,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function N(t,e,n,r,i){var a=e[0],o=e[1],s=e[2],u=e[3],h=a+a,c=o+o,l=s+s,f=a*h,d=a*c,p=a*l,v=o*c,m=o*l,M=s*l,_=u*h,g=u*c,b=u*l,x=r[0],y=r[1],E=r[2],w=i[0],T=i[1],P=i[2];return t[0]=(1-(v+M))*x,t[1]=(d+b)*x,t[2]=(p-g)*x,t[3]=0,t[4]=(d-b)*y,t[5]=(1-(f+M))*y,t[6]=(m+_)*y,t[7]=0,t[8]=(p+g)*E,t[9]=(m-_)*E,t[10]=(1-(f+v))*E,t[11]=0,t[12]=n[0]+w-(t[0]*w+t[4]*T+t[8]*P),t[13]=n[1]+T-(t[1]*w+t[5]*T+t[9]*P),t[14]=n[2]+P-(t[2]*w+t[6]*T+t[10]*P),t[15]=1,t}function q(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n+n,s=r+r,u=i+i,h=n*o,c=r*o,l=r*s,f=i*o,d=i*s,p=i*u,v=a*o,m=a*s,M=a*u;return t[0]=1-l-p,t[1]=c+M,t[2]=f-m,t[3]=0,t[4]=c-M,t[5]=1-h-p,t[6]=d+v,t[7]=0,t[8]=f+m,t[9]=d-v,t[10]=1-h-l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function I(t,e,n,r,i,a,o){var s=1/(n-e),u=1/(i-r),h=1/(a-o);return t[0]=2*a*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*a*u,t[6]=0,t[7]=0,t[8]=(n+e)*s,t[9]=(i+r)*u,t[10]=(o+a)*h,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*a*2*h,t[15]=0,t}function D(t,e,n,r,i){var a=1/Math.tan(e/2),o=1/(r-i);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+r)*o,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*r*o,t[15]=0,t}function C(t,e,n,r){var i=Math.tan(e.upDegrees*Math.PI/180),a=Math.tan(e.downDegrees*Math.PI/180),o=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),u=2/(o+s),h=2/(i+a);return t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=h,t[6]=0,t[7]=0,t[8]=-((o-s)*u*.5),t[9]=(i-a)*h*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t}function j(t,e,n,r,i,a,o){var s=1/(e-n),u=1/(r-i),h=1/(a-o);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*h,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*u,t[14]=(o+a)*h,t[15]=1,t}function Y(t,e,n,r){var i=void 0,a=void 0,o=void 0,s=void 0,u=void 0,c=void 0,l=void 0,f=void 0,d=void 0,p=void 0,v=e[0],m=e[1],M=e[2],_=r[0],g=r[1],b=r[2],x=n[0],y=n[1],E=n[2];return Math.abs(v-x)<J.EPSILON&&Math.abs(m-y)<J.EPSILON&&Math.abs(M-E)<J.EPSILON?h(t):(l=v-x,f=m-y,d=M-E,p=1/Math.sqrt(l*l+f*f+d*d),l*=p,f*=p,d*=p,i=g*d-b*f,a=b*l-_*d,o=_*f-g*l,p=Math.sqrt(i*i+a*a+o*o),p?(p=1/p,i*=p,a*=p,o*=p):(i=0,a=0,o=0),s=f*o-d*a,u=d*i-l*o,c=l*a-f*i,p=Math.sqrt(s*s+u*u+c*c),p?(p=1/p,s*=p,u*=p,c*=p):(s=0,u=0,c=0),t[0]=i,t[1]=s,t[2]=l,t[3]=0,t[4]=a,t[5]=u,t[6]=f,t[7]=0,t[8]=o,t[9]=c,t[10]=d,t[11]=0,t[12]=-(i*v+a*m+o*M),t[13]=-(s*v+u*m+c*M),t[14]=-(l*v+f*m+d*M),t[15]=1,t)}function U(t,e,n,r){var i=e[0],a=e[1],o=e[2],s=r[0],u=r[1],h=r[2],c=i-n[0],l=a-n[1],f=o-n[2],d=c*c+l*l+f*f;d>0&&(d=1/Math.sqrt(d),c*=d,l*=d,f*=d);var p=u*f-h*l,v=h*c-s*f,m=s*l-u*c;return t[0]=p,t[1]=v,t[2]=m,t[3]=0,t[4]=l*m-f*v,t[5]=f*p-c*m,t[6]=c*v-l*p,t[7]=0,t[8]=c,t[9]=l,t[10]=f,t[11]=0,t[12]=i,t[13]=a,t[14]=o,t[15]=1,t}function F(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function X(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))}function B(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t}function k(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function z(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t}function H(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t[9]=e[9]+n[9]*r,t[10]=e[10]+n[10]*r,t[11]=e[11]+n[11]*r,t[12]=e[12]+n[12]*r,t[13]=e[13]+n[13]*r,t[14]=e[14]+n[14]*r,t[15]=e[15]+n[15]*r,t}function G(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function V(t,e){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],u=t[6],h=t[7],c=t[8],l=t[9],f=t[10],d=t[11],p=t[12],v=t[13],m=t[14],M=t[15],_=e[0],g=e[1],b=e[2],x=e[3],y=e[4],E=e[5],w=e[6],T=e[7],P=e[8],O=e[9],L=e[10],R=e[11],S=e[12],A=e[13],N=e[14],q=e[15];return Math.abs(n-_)<=J.EPSILON*Math.max(1,Math.abs(n),Math.abs(_))&&Math.abs(r-g)<=J.EPSILON*Math.max(1,Math.abs(r),Math.abs(g))&&Math.abs(i-b)<=J.EPSILON*Math.max(1,Math.abs(i),Math.abs(b))&&Math.abs(a-x)<=J.EPSILON*Math.max(1,Math.abs(a),Math.abs(x))&&Math.abs(o-y)<=J.EPSILON*Math.max(1,Math.abs(o),Math.abs(y))&&Math.abs(s-E)<=J.EPSILON*Math.max(1,Math.abs(s),Math.abs(E))&&Math.abs(u-w)<=J.EPSILON*Math.max(1,Math.abs(u),Math.abs(w))&&Math.abs(h-T)<=J.EPSILON*Math.max(1,Math.abs(h),Math.abs(T))&&Math.abs(c-P)<=J.EPSILON*Math.max(1,Math.abs(c),Math.abs(P))&&Math.abs(l-O)<=J.EPSILON*Math.max(1,Math.abs(l),Math.abs(O))&&Math.abs(f-L)<=J.EPSILON*Math.max(1,Math.abs(f),Math.abs(L))&&Math.abs(d-R)<=J.EPSILON*Math.max(1,Math.abs(d),Math.abs(R))&&Math.abs(p-S)<=J.EPSILON*Math.max(1,Math.abs(p),Math.abs(S))&&Math.abs(v-A)<=J.EPSILON*Math.max(1,Math.abs(v),Math.abs(A))&&Math.abs(m-N)<=J.EPSILON*Math.max(1,Math.abs(m),Math.abs(N))&&Math.abs(M-q)<=J.EPSILON*Math.max(1,Math.abs(M),Math.abs(q))}Object.defineProperty(e,"__esModule",{value:!0}),e.sub=e.mul=void 0,e.create=i,e.clone=a,e.copy=o,e.fromValues=s,e.set=u,e.identity=h,e.transpose=c,e.invert=l,e.adjoint=f,e.determinant=d,e.multiply=p,e.translate=v,e.scale=m,e.rotate=M,e.rotateX=_,e.rotateY=g,e.rotateZ=b,e.fromTranslation=x,e.fromScaling=y,e.fromRotation=E,e.fromXRotation=w,e.fromYRotation=T,e.fromZRotation=P,e.fromRotationTranslation=O,e.getTranslation=L,e.getScaling=R,e.getRotation=S,e.fromRotationTranslationScale=A,e.fromRotationTranslationScaleOrigin=N,e.fromQuat=q,e.frustum=I,e.perspective=D,e.perspectiveFromFieldOfView=C,e.ortho=j,e.lookAt=Y,e.targetTo=U,e.str=F,e.frob=X,e.add=B,e.subtract=k,e.multiplyScalar=z,e.multiplyScalarAndAdd=H,e.exactEquals=G,e.equals=V;var W=n(0),J=r(W);e.mul=p,e.sub=k},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(){var t=new b.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function a(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function o(t,e,n){n*=.5;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function s(t,e){var n=2*Math.acos(e[3]),r=Math.sin(n/2);return 0!=r?(t[0]=e[0]/r,t[1]=e[1]/r,t[2]=e[2]/r):(t[0]=1,t[1]=0,t[2]=0),n}function u(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=n[0],u=n[1],h=n[2],c=n[3];return t[0]=r*c+o*s+i*h-a*u,t[1]=i*c+o*u+a*s-r*h,t[2]=a*c+o*h+r*u-i*s,t[3]=o*c-r*s-i*u-a*h,t}function h(t,e,n){n*=.5;var r=e[0],i=e[1],a=e[2],o=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+o*s,t[1]=i*u+a*s,t[2]=a*u-i*s,t[3]=o*u-r*s,t}function c(t,e,n){n*=.5;var r=e[0],i=e[1],a=e[2],o=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u-a*s,t[1]=i*u+o*s,t[2]=a*u+r*s,t[3]=o*u-i*s,t}function l(t,e,n){n*=.5;var r=e[0],i=e[1],a=e[2],o=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+i*s,t[1]=i*u-r*s,t[2]=a*u+o*s,t[3]=o*u-a*s,t}function f(t,e){var n=e[0],r=e[1],i=e[2];return t[0]=n,t[1]=r,t[2]=i,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-i*i)),t}function d(t,e,n,r){var i=e[0],a=e[1],o=e[2],s=e[3],u=n[0],h=n[1],c=n[2],l=n[3],f=void 0,d=void 0,p=void 0,v=void 0,m=void 0;return d=i*u+a*h+o*c+s*l,d<0&&(d=-d,u=-u,h=-h,c=-c,l=-l),1-d>1e-6?(f=Math.acos(d),p=Math.sin(f),v=Math.sin((1-r)*f)/p,m=Math.sin(r*f)/p):(v=1-r,m=r),t[0]=v*i+m*u,t[1]=v*a+m*h,t[2]=v*o+m*c,t[3]=v*s+m*l,t}function p(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n*n+r*r+i*i+a*a,s=o?1/o:0;return t[0]=-n*s,t[1]=-r*s,t[2]=-i*s,t[3]=a*s,t}function v(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function m(t,e){var n=e[0]+e[4]+e[8],r=void 0;if(n>0)r=Math.sqrt(n+1),t[3]=.5*r,r=.5/r,t[0]=(e[5]-e[7])*r,t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r;else{var i=0;e[4]>e[0]&&(i=1),e[8]>e[3*i+i]&&(i=2);var a=(i+1)%3,o=(i+2)%3;r=Math.sqrt(e[3*i+i]-e[3*a+a]-e[3*o+o]+1),t[i]=.5*r,r=.5/r,t[3]=(e[3*a+o]-e[3*o+a])*r,t[a]=(e[3*a+i]+e[3*i+a])*r,t[o]=(e[3*o+i]+e[3*i+o])*r}return t}function M(t,e,n,r){var i=.5*Math.PI/180;e*=i,n*=i,r*=i;var a=Math.sin(e),o=Math.cos(e),s=Math.sin(n),u=Math.cos(n),h=Math.sin(r),c=Math.cos(r);return t[0]=a*u*c-o*s*h,t[1]=o*s*c+a*u*h,t[2]=o*u*h-a*s*c,t[3]=o*u*c+a*s*h,t}function _(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}Object.defineProperty(e,"__esModule",{value:!0}),e.setAxes=e.sqlerp=e.rotationTo=e.equals=e.exactEquals=e.normalize=e.sqrLen=e.squaredLength=e.len=e.length=e.lerp=e.dot=e.scale=e.mul=e.add=e.set=e.copy=e.fromValues=e.clone=void 0,e.create=i,e.identity=a,e.setAxisAngle=o,e.getAxisAngle=s,e.multiply=u,e.rotateX=h,e.rotateY=c,e.rotateZ=l,e.calculateW=f,e.slerp=d,e.invert=p,e.conjugate=v,e.fromMat3=m,e.fromEuler=M,e.str=_;var g=n(0),b=r(g),x=n(1),y=r(x),E=n(2),w=r(E),T=n(3),P=r(T),O=(e.clone=P.clone,e.fromValues=P.fromValues,e.copy=P.copy,e.set=P.set,e.add=P.add,e.mul=u,e.scale=P.scale,e.dot=P.dot,e.lerp=P.lerp,e.length=P.length),L=(e.len=O,e.squaredLength=P.squaredLength),R=(e.sqrLen=L,e.normalize=P.normalize);e.exactEquals=P.exactEquals,e.equals=P.equals,e.rotationTo=function(){var t=w.create(),e=w.fromValues(1,0,0),n=w.fromValues(0,1,0);return function(r,i,a){var s=w.dot(i,a);return s<-.999999?(w.cross(t,e,i),w.len(t)<1e-6&&w.cross(t,n,i),w.normalize(t,t),o(r,t,Math.PI),r):s>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(w.cross(t,i,a),r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=1+s,R(r,r))}}(),e.sqlerp=function(){var t=i(),e=i();return function(n,r,i,a,o,s){return d(t,r,o,s),d(e,i,a,s),d(n,t,e,2*s*(1-s)),n}}(),e.setAxes=function(){var t=y.create();return function(e,n,r,i){return t[0]=r[0],t[3]=r[1],t[6]=r[2],t[1]=i[0],t[4]=i[1],t[7]=i[2],t[2]=-n[0],t[5]=-n[1],t[8]=-n[2],R(e,m(e,t))}}()},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(){var t=new U.ARRAY_TYPE(2);return t[0]=0,t[1]=0,t}function a(t){var e=new U.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e}function o(t,e){var n=new U.ARRAY_TYPE(2);return n[0]=t,n[1]=e,n}function s(t,e){return t[0]=e[0],t[1]=e[1],t}function u(t,e,n){return t[0]=e,t[1]=n,t}function h(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function c(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function l(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function f(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function d(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function p(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function v(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function m(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}function M(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}function _(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function g(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t}function b(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)}function x(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}function y(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)}function E(t){var e=t[0],n=t[1];return e*e+n*n}function w(t,e){return t[0]=-e[0],t[1]=-e[1],t}function T(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function P(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i),t}function O(t,e){return t[0]*e[0]+t[1]*e[1]}function L(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t}function R(t,e,n,r){var i=e[0],a=e[1];return t[0]=i+r*(n[0]-i),t[1]=a+r*(n[1]-a),t}function S(t,e){e=e||1;var n=2*U.RANDOM()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t}function A(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i,t[1]=n[1]*r+n[3]*i,t}function N(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t}function q(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[3]*i+n[6],t[1]=n[1]*r+n[4]*i+n[7],t}function I(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t}function D(t){return"vec2("+t[0]+", "+t[1]+")"}function C(t,e){return t[0]===e[0]&&t[1]===e[1]}function j(t,e){var n=t[0],r=t[1],i=e[0],a=e[1];return Math.abs(n-i)<=U.EPSILON*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-a)<=U.EPSILON*Math.max(1,Math.abs(r),Math.abs(a))}Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=e.sqrLen=e.sqrDist=e.dist=e.div=e.mul=e.sub=e.len=void 0,e.create=i,e.clone=a,e.fromValues=o,e.copy=s,e.set=u,e.add=h,e.subtract=c,e.multiply=l,e.divide=f,e.ceil=d,e.floor=p,e.min=v,e.max=m,e.round=M,e.scale=_,e.scaleAndAdd=g,e.distance=b,e.squaredDistance=x,e.length=y,e.squaredLength=E,e.negate=w,e.inverse=T,e.normalize=P,e.dot=O,e.cross=L,e.lerp=R,e.random=S,e.transformMat2=A,e.transformMat2d=N,e.transformMat3=q,e.transformMat4=I,e.str=D,e.exactEquals=C,e.equals=j;var Y=n(0),U=r(Y);e.len=y,e.sub=c,e.mul=l,e.div=f,e.dist=b,e.sqrDist=x,e.sqrLen=E,e.forEach=function(){var t=i();return function(e,n,r,i,a,o){var s=void 0,u=void 0;for(n||(n=2),r||(r=0),u=i?Math.min(i*n+r,e.length):e.length,s=r;s<u;s+=n)t[0]=e[s],t[1]=e[s+1],a(t,t,o),e[s]=t[0],e[s+1]=t[1];return e}}()}])})},function(t,e,n){"use strict";function r(){}function i(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function a(){this._events=new r,this._eventsCount=0}var o=Object.prototype.hasOwnProperty,s="~";Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(s=!1)),a.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)o.call(t,e)&&n.push(s?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},a.prototype.listeners=function(t,e){var n=s?s+t:t,r=this._events[n];if(e)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var i=0,a=r.length,o=new Array(a);i<a;i++)o[i]=r[i].fn;return o},a.prototype.emit=function(t,e,n,r,i,a){var o=s?s+t:t;if(!this._events[o])return!1;var u,h,c=this._events[o],l=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),l){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,n),!0;case 4:return c.fn.call(c.context,e,n,r),!0;case 5:return c.fn.call(c.context,e,n,r,i),!0;case 6:return c.fn.call(c.context,e,n,r,i,a),!0}for(h=1,u=new Array(l-1);h<l;h++)u[h-1]=arguments[h];c.fn.apply(c.context,u)}else{var f,d=c.length;for(h=0;h<d;h++)switch(c[h].once&&this.removeListener(t,c[h].fn,void 0,!0),l){case 1:c[h].fn.call(c[h].context);break;case 2:c[h].fn.call(c[h].context,e);break;case 3:c[h].fn.call(c[h].context,e,n);break;case 4:c[h].fn.call(c[h].context,e,n,r);break;default:if(!u)for(f=1,u=new Array(l-1);f<l;f++)u[f-1]=arguments[f];c[h].fn.apply(c[h].context,u)}}return!0},a.prototype.on=function(t,e,n){var r=new i(e,n||this),a=s?s+t:t;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],r]:this._events[a].push(r):(this._events[a]=r,this._eventsCount++),this},a.prototype.once=function(t,e,n){var r=new i(e,n||this,!0),a=s?s+t:t;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],r]:this._events[a].push(r):(this._events[a]=r,this._eventsCount++),this},a.prototype.removeListener=function(t,e,n,i){var a=s?s+t:t;if(!this._events[a])return this;if(!e)return 0===--this._eventsCount?this._events=new r:delete this._events[a],this;var o=this._events[a];if(o.fn)o.fn!==e||i&&!o.once||n&&o.context!==n||(0===--this._eventsCount?this._events=new r:delete this._events[a]);else{for(var u=0,h=[],c=o.length;u<c;u++)(o[u].fn!==e||i&&!o[u].once||n&&o[u].context!==n)&&h.push(o[u]);h.length?this._events[a]=1===h.length?h[0]:h:0===--this._eventsCount?this._events=new r:delete this._events[a];
}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=s?s+t:t,this._events[e]&&(0===--this._eventsCount?this._events=new r:delete this._events[e])):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prototype.setMaxListeners=function(){return this},a.prefixed=s,a.EventEmitter=a,t.exports=a},function(t,e,n){!function(e,n){t.exports=n()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=4)}([function(t,e,n){"use strict";function r(t){e.ARRAY_TYPE=s=t}function i(t){return t*u}function a(t,e){return Math.abs(t-e)<=o*Math.max(1,Math.abs(t),Math.abs(e))}Object.defineProperty(e,"__esModule",{value:!0}),e.setMatrixArrayType=r,e.toRadian=i,e.equals=a;var o=e.EPSILON=1e-6,s=e.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,u=(e.RANDOM=Math.random,Math.PI/180)},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(){var t=new D.ARRAY_TYPE(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function a(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function o(t){var e=new D.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function s(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function u(t,e,n,r,i,a,o,s,u){var h=new D.ARRAY_TYPE(9);return h[0]=t,h[1]=e,h[2]=n,h[3]=r,h[4]=i,h[5]=a,h[6]=o,h[7]=s,h[8]=u,h}function h(t,e,n,r,i,a,o,s,u,h){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=a,t[5]=o,t[6]=s,t[7]=u,t[8]=h,t}function c(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function l(t,e){if(t===e){var n=e[1],r=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function f(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],h=e[7],c=e[8],l=c*o-s*h,f=-c*a+s*u,d=h*a-o*u,p=n*l+r*f+i*d;return p?(p=1/p,t[0]=l*p,t[1]=(-c*r+i*h)*p,t[2]=(s*r-i*o)*p,t[3]=f*p,t[4]=(c*n-i*u)*p,t[5]=(-s*n+i*a)*p,t[6]=d*p,t[7]=(-h*n+r*u)*p,t[8]=(o*n-r*a)*p,t):null}function d(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],h=e[7],c=e[8];return t[0]=o*c-s*h,t[1]=i*h-r*c,t[2]=r*s-i*o,t[3]=s*u-a*c,t[4]=n*c-i*u,t[5]=i*a-n*s,t[6]=a*h-o*u,t[7]=r*u-n*h,t[8]=n*o-r*a,t}function p(t){var e=t[0],n=t[1],r=t[2],i=t[3],a=t[4],o=t[5],s=t[6],u=t[7],h=t[8];return e*(h*a-o*u)+n*(-h*i+o*s)+r*(u*i-a*s)}function v(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],h=e[6],c=e[7],l=e[8],f=n[0],d=n[1],p=n[2],v=n[3],m=n[4],M=n[5],_=n[6],g=n[7],b=n[8];return t[0]=f*r+d*o+p*h,t[1]=f*i+d*s+p*c,t[2]=f*a+d*u+p*l,t[3]=v*r+m*o+M*h,t[4]=v*i+m*s+M*c,t[5]=v*a+m*u+M*l,t[6]=_*r+g*o+b*h,t[7]=_*i+g*s+b*c,t[8]=_*a+g*u+b*l,t}function m(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],h=e[6],c=e[7],l=e[8],f=n[0],d=n[1];return t[0]=r,t[1]=i,t[2]=a,t[3]=o,t[4]=s,t[5]=u,t[6]=f*r+d*o+h,t[7]=f*i+d*s+c,t[8]=f*a+d*u+l,t}function M(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],h=e[6],c=e[7],l=e[8],f=Math.sin(n),d=Math.cos(n);return t[0]=d*r+f*o,t[1]=d*i+f*s,t[2]=d*a+f*u,t[3]=d*o-f*r,t[4]=d*s-f*i,t[5]=d*u-f*a,t[6]=h,t[7]=c,t[8]=l,t}function _(t,e,n){var r=n[0],i=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function g(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function b(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function x(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function y(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function E(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n+n,s=r+r,u=i+i,h=n*o,c=r*o,l=r*s,f=i*o,d=i*s,p=i*u,v=a*o,m=a*s,M=a*u;return t[0]=1-l-p,t[3]=c-M,t[6]=f+m,t[1]=c+M,t[4]=1-h-p,t[7]=d-v,t[2]=f-m,t[5]=d+v,t[8]=1-h-l,t}function w(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],h=e[7],c=e[8],l=e[9],f=e[10],d=e[11],p=e[12],v=e[13],m=e[14],M=e[15],_=n*s-r*o,g=n*u-i*o,b=n*h-a*o,x=r*u-i*s,y=r*h-a*s,E=i*h-a*u,w=c*v-l*p,T=c*m-f*p,P=c*M-d*p,O=l*m-f*v,L=l*M-d*v,R=f*M-d*m,S=_*R-g*L+b*O+x*P-y*T+E*w;return S?(S=1/S,t[0]=(s*R-u*L+h*O)*S,t[1]=(u*P-o*R-h*T)*S,t[2]=(o*L-s*P+h*w)*S,t[3]=(i*L-r*R-a*O)*S,t[4]=(n*R-i*P+a*T)*S,t[5]=(r*P-n*L-a*w)*S,t[6]=(v*E-m*y+M*x)*S,t[7]=(m*b-p*E-M*g)*S,t[8]=(p*y-v*b+M*_)*S,t):null}function T(t,e,n){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function P(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function O(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))}function L(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t}function R(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t}function S(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t}function A(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t}function N(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function q(t,e){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],u=t[6],h=t[7],c=t[8],l=e[0],f=e[1],d=e[2],p=e[3],v=e[4],m=e[5],M=e[6],_=e[7],g=e[8];return Math.abs(n-l)<=D.EPSILON*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(r-f)<=D.EPSILON*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(i-d)<=D.EPSILON*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(a-p)<=D.EPSILON*Math.max(1,Math.abs(a),Math.abs(p))&&Math.abs(o-v)<=D.EPSILON*Math.max(1,Math.abs(o),Math.abs(v))&&Math.abs(s-m)<=D.EPSILON*Math.max(1,Math.abs(s),Math.abs(m))&&Math.abs(u-M)<=D.EPSILON*Math.max(1,Math.abs(u),Math.abs(M))&&Math.abs(h-_)<=D.EPSILON*Math.max(1,Math.abs(h),Math.abs(_))&&Math.abs(c-g)<=D.EPSILON*Math.max(1,Math.abs(c),Math.abs(g))}Object.defineProperty(e,"__esModule",{value:!0}),e.sub=e.mul=void 0,e.create=i,e.fromMat4=a,e.clone=o,e.copy=s,e.fromValues=u,e.set=h,e.identity=c,e.transpose=l,e.invert=f,e.adjoint=d,e.determinant=p,e.multiply=v,e.translate=m,e.rotate=M,e.scale=_,e.fromTranslation=g,e.fromRotation=b,e.fromScaling=x,e.fromMat2d=y,e.fromQuat=E,e.normalFromMat4=w,e.projection=T,e.str=P,e.frob=O,e.add=L,e.subtract=R,e.multiplyScalar=S,e.multiplyScalarAndAdd=A,e.exactEquals=N,e.equals=q;var I=n(0),D=r(I);e.mul=v,e.sub=R},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(){var t=new z.ARRAY_TYPE(3);return t[0]=0,t[1]=0,t[2]=0,t}function a(t){var e=new z.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function o(t){var e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)}function s(t,e,n){var r=new z.ARRAY_TYPE(3);return r[0]=t,r[1]=e,r[2]=n,r}function u(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function h(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}function c(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function l(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function f(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function d(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function p(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function v(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function m(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t}function M(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t}function _(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function g(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function b(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t}function x(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.sqrt(n*n+r*r+i*i)}function y(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return n*n+r*r+i*i}function E(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}function w(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function T(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function P(t,e){var n=e[0],r=e[1],i=e[2],a=n*n+r*r+i*i;return a>0&&(a=1/Math.sqrt(a),t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a),t}function O(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function L(t,e,n){var r=e[0],i=e[1],a=e[2],o=n[0],s=n[1],u=n[2];return t[0]=i*u-a*s,t[1]=a*o-r*u,t[2]=r*s-i*o,t}function R(t,e,n,r){var i=e[0],a=e[1],o=e[2];return t[0]=i+r*(n[0]-i),t[1]=a+r*(n[1]-a),t[2]=o+r*(n[2]-o),t}function S(t,e,n,r,i,a){var o=a*a,s=o*(2*a-3)+1,u=o*(a-2)+a,h=o*(a-1),c=o*(3-2*a);return t[0]=e[0]*s+n[0]*u+r[0]*h+i[0]*c,t[1]=e[1]*s+n[1]*u+r[1]*h+i[1]*c,t[2]=e[2]*s+n[2]*u+r[2]*h+i[2]*c,t}function A(t,e,n,r,i,a){var o=1-a,s=o*o,u=a*a,h=s*o,c=3*a*s,l=3*u*o,f=u*a;return t[0]=e[0]*h+n[0]*c+r[0]*l+i[0]*f,t[1]=e[1]*h+n[1]*c+r[1]*l+i[1]*f,t[2]=e[2]*h+n[2]*c+r[2]*l+i[2]*f,t}function N(t,e){e=e||1;var n=2*z.RANDOM()*Math.PI,r=2*z.RANDOM()-1,i=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(n)*i,t[1]=Math.sin(n)*i,t[2]=r*e,t}function q(t,e,n){var r=e[0],i=e[1],a=e[2],o=n[3]*r+n[7]*i+n[11]*a+n[15];return o=o||1,t[0]=(n[0]*r+n[4]*i+n[8]*a+n[12])/o,t[1]=(n[1]*r+n[5]*i+n[9]*a+n[13])/o,t[2]=(n[2]*r+n[6]*i+n[10]*a+n[14])/o,t}function I(t,e,n){var r=e[0],i=e[1],a=e[2];return t[0]=r*n[0]+i*n[3]+a*n[6],t[1]=r*n[1]+i*n[4]+a*n[7],t[2]=r*n[2]+i*n[5]+a*n[8],t}function D(t,e,n){var r=e[0],i=e[1],a=e[2],o=n[0],s=n[1],u=n[2],h=n[3],c=h*r+s*a-u*i,l=h*i+u*r-o*a,f=h*a+o*i-s*r,d=-o*r-s*i-u*a;return t[0]=c*h+d*-o+l*-u-f*-s,t[1]=l*h+d*-s+f*-o-c*-u,t[2]=f*h+d*-u+c*-s-l*-o,t}function C(t,e,n,r){var i=[],a=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],a[0]=i[0],a[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),a[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t}function j(t,e,n,r){var i=[],a=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],a[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),a[1]=i[1],a[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t}function Y(t,e,n,r){var i=[],a=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],a[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),a[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),a[2]=i[2],t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t}function U(t,e){var n=s(t[0],t[1],t[2]),r=s(e[0],e[1],e[2]);P(n,n),P(r,r);var i=O(n,r);return i>1?0:i<-1?Math.PI:Math.acos(i)}function F(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function X(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function B(t,e){var n=t[0],r=t[1],i=t[2],a=e[0],o=e[1],s=e[2];return Math.abs(n-a)<=z.EPSILON*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-o)<=z.EPSILON*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(i-s)<=z.EPSILON*Math.max(1,Math.abs(i),Math.abs(s))}Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=e.sqrLen=e.len=e.sqrDist=e.dist=e.div=e.mul=e.sub=void 0,e.create=i,e.clone=a,e.length=o,e.fromValues=s,e.copy=u,e.set=h,e.add=c,e.subtract=l,e.multiply=f,e.divide=d,e.ceil=p,e.floor=v,e.min=m,e.max=M,e.round=_,e.scale=g,e.scaleAndAdd=b,e.distance=x,e.squaredDistance=y,e.squaredLength=E,e.negate=w,e.inverse=T,e.normalize=P,e.dot=O,e.cross=L,e.lerp=R,e.hermite=S,e.bezier=A,e.random=N,e.transformMat4=q,e.transformMat3=I,e.transformQuat=D,e.rotateX=C,e.rotateY=j,e.rotateZ=Y,e.angle=U,e.str=F,e.exactEquals=X,e.equals=B;var k=n(0),z=r(k);e.sub=l,e.mul=f,e.div=d,e.dist=x,e.sqrDist=y,e.len=o,e.sqrLen=E,e.forEach=function(){var t=i();return function(e,n,r,i,a,o){var s=void 0,u=void 0;for(n||(n=3),r||(r=0),u=i?Math.min(i*n+r,e.length):e.length,s=r;s<u;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],a(t,t,o),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2];return e}}()},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(){var t=new C.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function a(t){var e=new C.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function o(t,e,n,r){var i=new C.ARRAY_TYPE(4);return i[0]=t,i[1]=e,i[2]=n,i[3]=r,i}function s(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function u(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function h(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t}function c(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}function l(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t}function f(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t[3]=e[3]/n[3],t}function d(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t}function p(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t}function v(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t[3]=Math.min(e[3],n[3]),t}function m(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t[3]=Math.max(e[3],n[3]),t}function M(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t}function _(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function g(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t}function b(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],a=e[3]-t[3];return Math.sqrt(n*n+r*r+i*i+a*a)}function x(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],a=e[3]-t[3];return n*n+r*r+i*i+a*a}function y(t){var e=t[0],n=t[1],r=t[2],i=t[3];return Math.sqrt(e*e+n*n+r*r+i*i)}function E(t){var e=t[0],n=t[1],r=t[2],i=t[3];return e*e+n*n+r*r+i*i}function w(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t}function T(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t}function P(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n*n+r*r+i*i+a*a;return o>0&&(o=1/Math.sqrt(o),t[0]=n*o,t[1]=r*o,t[2]=i*o,t[3]=a*o),t}function O(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function L(t,e,n,r){var i=e[0],a=e[1],o=e[2],s=e[3];return t[0]=i+r*(n[0]-i),t[1]=a+r*(n[1]-a),t[2]=o+r*(n[2]-o),t[3]=s+r*(n[3]-s),t}function R(t,e){return e=e||1,t[0]=C.RANDOM(),t[1]=C.RANDOM(),t[2]=C.RANDOM(),t[3]=C.RANDOM(),P(t,t),_(t,t,e),t}function S(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*a+n[12]*o,t[1]=n[1]*r+n[5]*i+n[9]*a+n[13]*o,t[2]=n[2]*r+n[6]*i+n[10]*a+n[14]*o,t[3]=n[3]*r+n[7]*i+n[11]*a+n[15]*o,t}function A(t,e,n){var r=e[0],i=e[1],a=e[2],o=n[0],s=n[1],u=n[2],h=n[3],c=h*r+s*a-u*i,l=h*i+u*r-o*a,f=h*a+o*i-s*r,d=-o*r-s*i-u*a;return t[0]=c*h+d*-o+l*-u-f*-s,t[1]=l*h+d*-s+f*-o-c*-u,t[2]=f*h+d*-u+c*-s-l*-o,t[3]=e[3],t}function N(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function q(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function I(t,e){var n=t[0],r=t[1],i=t[2],a=t[3],o=e[0],s=e[1],u=e[2],h=e[3];return Math.abs(n-o)<=C.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-s)<=C.EPSILON*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(i-u)<=C.EPSILON*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(a-h)<=C.EPSILON*Math.max(1,Math.abs(a),Math.abs(h))}Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=e.sqrLen=e.len=e.sqrDist=e.dist=e.div=e.mul=e.sub=void 0,e.create=i,e.clone=a,e.fromValues=o,e.copy=s,e.set=u,e.add=h,e.subtract=c,e.multiply=l,e.divide=f,e.ceil=d,e.floor=p,e.min=v,e.max=m,e.round=M,e.scale=_,e.scaleAndAdd=g,e.distance=b,e.squaredDistance=x,e.length=y,e.squaredLength=E,e.negate=w,e.inverse=T,e.normalize=P,e.dot=O,e.lerp=L,e.random=R,e.transformMat4=S,e.transformQuat=A,e.str=N,e.exactEquals=q,e.equals=I;var D=n(0),C=r(D);e.sub=c,e.mul=l,e.div=f,e.dist=b,e.sqrDist=x,e.len=y,e.sqrLen=E,e.forEach=function(){var t=i();return function(e,n,r,i,a,o){var s=void 0,u=void 0;for(n||(n=4),r||(r=0),u=i?Math.min(i*n+r,e.length):e.length,s=r;s<u;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],t[3]=e[s+3],a(t,t,o),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2],e[s+3]=t[3];return e}}()},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}Object.defineProperty(e,"__esModule",{value:!0}),e.vec4=e.vec3=e.vec2=e.quat=e.mat4=e.mat3=e.mat2d=e.mat2=e.glMatrix=void 0;var i=n(0),a=r(i),o=n(5),s=r(o),u=n(6),h=r(u),c=n(1),l=r(c),f=n(7),d=r(f),p=n(8),v=r(p),m=n(9),M=r(m),_=n(2),g=r(_),b=n(3),x=r(b);e.glMatrix=a,e.mat2=s,e.mat2d=h,e.mat3=l,e.mat4=d,e.quat=v,e.vec2=M,e.vec3=g,e.vec4=x},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(){var t=new R.ARRAY_TYPE(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function a(t){var e=new R.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function o(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function s(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function u(t,e,n,r){var i=new R.ARRAY_TYPE(4);return i[0]=t,i[1]=e,i[2]=n,i[3]=r,i}function h(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function c(t,e){if(t===e){var n=e[1];t[1]=e[2],t[2]=n}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t}function l(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n*a-i*r;return o?(o=1/o,t[0]=a*o,t[1]=-r*o,t[2]=-i*o,t[3]=n*o,t):null}function f(t,e){var n=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=n,t}function d(t){return t[0]*t[3]-t[2]*t[1]}function p(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=n[0],u=n[1],h=n[2],c=n[3];return t[0]=r*s+a*u,t[1]=i*s+o*u,t[2]=r*h+a*c,t[3]=i*h+o*c,t}function v(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+a*s,t[1]=i*u+o*s,t[2]=r*-s+a*u,t[3]=i*-s+o*u,t}function m(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=n[0],u=n[1];return t[0]=r*s,t[1]=i*s,t[2]=a*u,t[3]=o*u,t}function M(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t}function _(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t}function g(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function b(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))}function x(t,e,n,r){return t[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-t[2]*n[1],[t,e,n]}function y(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t}function E(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}function w(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function T(t,e){var n=t[0],r=t[1],i=t[2],a=t[3],o=e[0],s=e[1],u=e[2],h=e[3];return Math.abs(n-o)<=R.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-s)<=R.EPSILON*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(i-u)<=R.EPSILON*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(a-h)<=R.EPSILON*Math.max(1,Math.abs(a),Math.abs(h))}function P(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function O(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t}Object.defineProperty(e,"__esModule",{value:!0}),e.sub=e.mul=void 0,e.create=i,e.clone=a,e.copy=o,e.identity=s,e.fromValues=u,e.set=h,e.transpose=c,e.invert=l,e.adjoint=f,e.determinant=d,e.multiply=p,e.rotate=v,e.scale=m,e.fromRotation=M,e.fromScaling=_,e.str=g,e.frob=b,e.LDU=x,e.add=y,e.subtract=E,e.exactEquals=w,e.equals=T,e.multiplyScalar=P,e.multiplyScalarAndAdd=O;var L=n(0),R=r(L);e.mul=p,e.sub=E},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(){var t=new L.ARRAY_TYPE(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function a(t){var e=new L.ARRAY_TYPE(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function o(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function s(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function u(t,e,n,r,i,a){var o=new L.ARRAY_TYPE(6);return o[0]=t,o[1]=e,o[2]=n,o[3]=r,o[4]=i,o[5]=a,o}function h(t,e,n,r,i,a,o){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=a,t[5]=o,t}function c(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=n*a-r*i;return u?(u=1/u,t[0]=a*u,t[1]=-r*u,t[2]=-i*u,t[3]=n*u,t[4]=(i*s-a*o)*u,t[5]=(r*o-n*s)*u,t):null}function l(t){return t[0]*t[3]-t[1]*t[2]}function f(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],h=n[0],c=n[1],l=n[2],f=n[3],d=n[4],p=n[5];return t[0]=r*h+a*c,t[1]=i*h+o*c,t[2]=r*l+a*f,t[3]=i*l+o*f,t[4]=r*d+a*p+s,t[5]=i*d+o*p+u,t}function d(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],h=Math.sin(n),c=Math.cos(n);return t[0]=r*c+a*h,t[1]=i*c+o*h,t[2]=r*-h+a*c,t[3]=i*-h+o*c,t[4]=s,t[5]=u,t}function p(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],h=n[0],c=n[1];return t[0]=r*h,t[1]=i*h,t[2]=a*c,t[3]=o*c,t[4]=s,t[5]=u,t}function v(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],h=n[0],c=n[1];return t[0]=r,t[1]=i,t[2]=a,t[3]=o,t[4]=r*h+a*c+s,t[5]=i*h+o*c+u,t}function m(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t[4]=0,t[5]=0,t}function M(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t}function _(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t}function g(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"}function b(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)}function x(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t}function y(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t}function E(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t}function w(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t}function T(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]}function P(t,e){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],u=e[0],h=e[1],c=e[2],l=e[3],f=e[4],d=e[5];return Math.abs(n-u)<=L.EPSILON*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(r-h)<=L.EPSILON*Math.max(1,Math.abs(r),Math.abs(h))&&Math.abs(i-c)<=L.EPSILON*Math.max(1,Math.abs(i),Math.abs(c))&&Math.abs(a-l)<=L.EPSILON*Math.max(1,Math.abs(a),Math.abs(l))&&Math.abs(o-f)<=L.EPSILON*Math.max(1,Math.abs(o),Math.abs(f))&&Math.abs(s-d)<=L.EPSILON*Math.max(1,Math.abs(s),Math.abs(d))}Object.defineProperty(e,"__esModule",{value:!0}),e.sub=e.mul=void 0,e.create=i,e.clone=a,e.copy=o,e.identity=s,e.fromValues=u,e.set=h,e.invert=c,e.determinant=l,e.multiply=f,e.rotate=d,e.scale=p,e.translate=v,e.fromRotation=m,e.fromScaling=M,e.fromTranslation=_,e.str=g,e.frob=b,e.add=x,e.subtract=y,e.multiplyScalar=E,e.multiplyScalarAndAdd=w,e.exactEquals=T,e.equals=P;var O=n(0),L=r(O);e.mul=f,e.sub=y},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(){var t=new J.ARRAY_TYPE(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function a(t){var e=new J.ARRAY_TYPE(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function o(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function s(t,e,n,r,i,a,o,s,u,h,c,l,f,d,p,v){var m=new J.ARRAY_TYPE(16);return m[0]=t,m[1]=e,m[2]=n,m[3]=r,m[4]=i,m[5]=a,m[6]=o,m[7]=s,m[8]=u,m[9]=h,m[10]=c,m[11]=l,m[12]=f,m[13]=d,m[14]=p,m[15]=v,m}function u(t,e,n,r,i,a,o,s,u,h,c,l,f,d,p,v,m){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=a,t[5]=o,t[6]=s,t[7]=u,t[8]=h,t[9]=c,t[10]=l,t[11]=f,t[12]=d,t[13]=p,t[14]=v,t[15]=m,t}function h(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function c(t,e){if(t===e){var n=e[1],r=e[2],i=e[3],a=e[6],o=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=a,t[11]=e[14],t[12]=i,t[13]=o,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function l(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],h=e[7],c=e[8],l=e[9],f=e[10],d=e[11],p=e[12],v=e[13],m=e[14],M=e[15],_=n*s-r*o,g=n*u-i*o,b=n*h-a*o,x=r*u-i*s,y=r*h-a*s,E=i*h-a*u,w=c*v-l*p,T=c*m-f*p,P=c*M-d*p,O=l*m-f*v,L=l*M-d*v,R=f*M-d*m,S=_*R-g*L+b*O+x*P-y*T+E*w;return S?(S=1/S,t[0]=(s*R-u*L+h*O)*S,t[1]=(i*L-r*R-a*O)*S,t[2]=(v*E-m*y+M*x)*S,t[3]=(f*y-l*E-d*x)*S,t[4]=(u*P-o*R-h*T)*S,t[5]=(n*R-i*P+a*T)*S,t[6]=(m*b-p*E-M*g)*S,t[7]=(c*E-f*b+d*g)*S,t[8]=(o*L-s*P+h*w)*S,t[9]=(r*P-n*L-a*w)*S,t[10]=(p*y-v*b+M*_)*S,t[11]=(l*b-c*y-d*_)*S,t[12]=(s*T-o*O-u*w)*S,t[13]=(n*O-r*T+i*w)*S,t[14]=(v*g-p*x-m*_)*S,t[15]=(c*x-l*g+f*_)*S,t):null}function f(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],h=e[7],c=e[8],l=e[9],f=e[10],d=e[11],p=e[12],v=e[13],m=e[14],M=e[15];return t[0]=s*(f*M-d*m)-l*(u*M-h*m)+v*(u*d-h*f),t[1]=-(r*(f*M-d*m)-l*(i*M-a*m)+v*(i*d-a*f)),t[2]=r*(u*M-h*m)-s*(i*M-a*m)+v*(i*h-a*u),t[3]=-(r*(u*d-h*f)-s*(i*d-a*f)+l*(i*h-a*u)),t[4]=-(o*(f*M-d*m)-c*(u*M-h*m)+p*(u*d-h*f)),t[5]=n*(f*M-d*m)-c*(i*M-a*m)+p*(i*d-a*f),t[6]=-(n*(u*M-h*m)-o*(i*M-a*m)+p*(i*h-a*u)),t[7]=n*(u*d-h*f)-o*(i*d-a*f)+c*(i*h-a*u),t[8]=o*(l*M-d*v)-c*(s*M-h*v)+p*(s*d-h*l),t[9]=-(n*(l*M-d*v)-c*(r*M-a*v)+p*(r*d-a*l)),t[10]=n*(s*M-h*v)-o*(r*M-a*v)+p*(r*h-a*s),t[11]=-(n*(s*d-h*l)-o*(r*d-a*l)+c*(r*h-a*s)),t[12]=-(o*(l*m-f*v)-c*(s*m-u*v)+p*(s*f-u*l)),t[13]=n*(l*m-f*v)-c*(r*m-i*v)+p*(r*f-i*l),t[14]=-(n*(s*m-u*v)-o*(r*m-i*v)+p*(r*u-i*s)),t[15]=n*(s*f-u*l)-o*(r*f-i*l)+c*(r*u-i*s),t}function d(t){var e=t[0],n=t[1],r=t[2],i=t[3],a=t[4],o=t[5],s=t[6],u=t[7],h=t[8],c=t[9],l=t[10],f=t[11],d=t[12],p=t[13],v=t[14],m=t[15],M=e*o-n*a,_=e*s-r*a,g=e*u-i*a,b=n*s-r*o,x=n*u-i*o,y=r*u-i*s,E=h*p-c*d,w=h*v-l*d,T=h*m-f*d,P=c*v-l*p,O=c*m-f*p,L=l*m-f*v;return M*L-_*O+g*P+b*T-x*w+y*E}function p(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],h=e[6],c=e[7],l=e[8],f=e[9],d=e[10],p=e[11],v=e[12],m=e[13],M=e[14],_=e[15],g=n[0],b=n[1],x=n[2],y=n[3];return t[0]=g*r+b*s+x*l+y*v,t[1]=g*i+b*u+x*f+y*m,t[2]=g*a+b*h+x*d+y*M,t[3]=g*o+b*c+x*p+y*_,g=n[4],b=n[5],x=n[6],y=n[7],t[4]=g*r+b*s+x*l+y*v,t[5]=g*i+b*u+x*f+y*m,t[6]=g*a+b*h+x*d+y*M,t[7]=g*o+b*c+x*p+y*_,g=n[8],b=n[9],x=n[10],y=n[11],t[8]=g*r+b*s+x*l+y*v,t[9]=g*i+b*u+x*f+y*m,t[10]=g*a+b*h+x*d+y*M,t[11]=g*o+b*c+x*p+y*_,g=n[12],b=n[13],x=n[14],y=n[15],t[12]=g*r+b*s+x*l+y*v,t[13]=g*i+b*u+x*f+y*m,t[14]=g*a+b*h+x*d+y*M,t[15]=g*o+b*c+x*p+y*_,t}function v(t,e,n){var r=n[0],i=n[1],a=n[2],o=void 0,s=void 0,u=void 0,h=void 0,c=void 0,l=void 0,f=void 0,d=void 0,p=void 0,v=void 0,m=void 0,M=void 0;return e===t?(t[12]=e[0]*r+e[4]*i+e[8]*a+e[12],t[13]=e[1]*r+e[5]*i+e[9]*a+e[13],t[14]=e[2]*r+e[6]*i+e[10]*a+e[14],t[15]=e[3]*r+e[7]*i+e[11]*a+e[15]):(o=e[0],s=e[1],u=e[2],h=e[3],c=e[4],l=e[5],f=e[6],d=e[7],p=e[8],v=e[9],m=e[10],M=e[11],t[0]=o,t[1]=s,t[2]=u,t[3]=h,t[4]=c,t[5]=l,t[6]=f,t[7]=d,t[8]=p,t[9]=v,t[10]=m,t[11]=M,t[12]=o*r+c*i+p*a+e[12],t[13]=s*r+l*i+v*a+e[13],t[14]=u*r+f*i+m*a+e[14],t[15]=h*r+d*i+M*a+e[15]),t}function m(t,e,n){var r=n[0],i=n[1],a=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*a,t[9]=e[9]*a,t[10]=e[10]*a,t[11]=e[11]*a,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function M(t,e,n,r){var i=r[0],a=r[1],o=r[2],s=Math.sqrt(i*i+a*a+o*o),u=void 0,h=void 0,c=void 0,l=void 0,f=void 0,d=void 0,p=void 0,v=void 0,m=void 0,M=void 0,_=void 0,g=void 0,b=void 0,x=void 0,y=void 0,E=void 0,w=void 0,T=void 0,P=void 0,O=void 0,L=void 0,R=void 0,S=void 0,A=void 0;return Math.abs(s)<J.EPSILON?null:(s=1/s,i*=s,a*=s,o*=s,u=Math.sin(n),h=Math.cos(n),c=1-h,l=e[0],f=e[1],d=e[2],p=e[3],v=e[4],m=e[5],M=e[6],_=e[7],g=e[8],b=e[9],x=e[10],y=e[11],E=i*i*c+h,w=a*i*c+o*u,T=o*i*c-a*u,P=i*a*c-o*u,O=a*a*c+h,L=o*a*c+i*u,R=i*o*c+a*u,S=a*o*c-i*u,A=o*o*c+h,t[0]=l*E+v*w+g*T,t[1]=f*E+m*w+b*T,t[2]=d*E+M*w+x*T,t[3]=p*E+_*w+y*T,t[4]=l*P+v*O+g*L,t[5]=f*P+m*O+b*L,t[6]=d*P+M*O+x*L,t[7]=p*P+_*O+y*L,t[8]=l*R+v*S+g*A,t[9]=f*R+m*S+b*A,t[10]=d*R+M*S+x*A,t[11]=p*R+_*S+y*A,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function _(t,e,n){var r=Math.sin(n),i=Math.cos(n),a=e[4],o=e[5],s=e[6],u=e[7],h=e[8],c=e[9],l=e[10],f=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=a*i+h*r,t[5]=o*i+c*r,t[6]=s*i+l*r,t[7]=u*i+f*r,t[8]=h*i-a*r,t[9]=c*i-o*r,t[10]=l*i-s*r,t[11]=f*i-u*r,t}function g(t,e,n){var r=Math.sin(n),i=Math.cos(n),a=e[0],o=e[1],s=e[2],u=e[3],h=e[8],c=e[9],l=e[10],f=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*i-h*r,t[1]=o*i-c*r,t[2]=s*i-l*r,t[3]=u*i-f*r,t[8]=a*r+h*i,t[9]=o*r+c*i,t[10]=s*r+l*i,t[11]=u*r+f*i,t}function b(t,e,n){var r=Math.sin(n),i=Math.cos(n),a=e[0],o=e[1],s=e[2],u=e[3],h=e[4],c=e[5],l=e[6],f=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*i+h*r,t[1]=o*i+c*r,t[2]=s*i+l*r,t[3]=u*i+f*r,t[4]=h*i-a*r,t[5]=c*i-o*r,t[6]=l*i-s*r,t[7]=f*i-u*r,t}function x(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function y(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function E(t,e,n){var r=n[0],i=n[1],a=n[2],o=Math.sqrt(r*r+i*i+a*a),s=void 0,u=void 0,h=void 0;return Math.abs(o)<J.EPSILON?null:(o=1/o,r*=o,i*=o,a*=o,s=Math.sin(e),u=Math.cos(e),h=1-u,t[0]=r*r*h+u,t[1]=i*r*h+a*s,t[2]=a*r*h-i*s,t[3]=0,t[4]=r*i*h-a*s,t[5]=i*i*h+u,t[6]=a*i*h+r*s,t[7]=0,t[8]=r*a*h+i*s,t[9]=i*a*h-r*s,t[10]=a*a*h+u,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function w(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function T(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function P(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function O(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=r+r,u=i+i,h=a+a,c=r*s,l=r*u,f=r*h,d=i*u,p=i*h,v=a*h,m=o*s,M=o*u,_=o*h;
return t[0]=1-(d+v),t[1]=l+_,t[2]=f-M,t[3]=0,t[4]=l-_,t[5]=1-(c+v),t[6]=p+m,t[7]=0,t[8]=f+M,t[9]=p-m,t[10]=1-(c+d),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function L(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function R(t,e){var n=e[0],r=e[1],i=e[2],a=e[4],o=e[5],s=e[6],u=e[8],h=e[9],c=e[10];return t[0]=Math.sqrt(n*n+r*r+i*i),t[1]=Math.sqrt(a*a+o*o+s*s),t[2]=Math.sqrt(u*u+h*h+c*c),t}function S(t,e){var n=e[0]+e[5]+e[10],r=0;return n>0?(r=2*Math.sqrt(n+1),t[3]=.25*r,t[0]=(e[6]-e[9])/r,t[1]=(e[8]-e[2])/r,t[2]=(e[1]-e[4])/r):e[0]>e[5]&e[0]>e[10]?(r=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/r,t[0]=.25*r,t[1]=(e[1]+e[4])/r,t[2]=(e[8]+e[2])/r):e[5]>e[10]?(r=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/r,t[0]=(e[1]+e[4])/r,t[1]=.25*r,t[2]=(e[6]+e[9])/r):(r=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/r,t[0]=(e[8]+e[2])/r,t[1]=(e[6]+e[9])/r,t[2]=.25*r),t}function A(t,e,n,r){var i=e[0],a=e[1],o=e[2],s=e[3],u=i+i,h=a+a,c=o+o,l=i*u,f=i*h,d=i*c,p=a*h,v=a*c,m=o*c,M=s*u,_=s*h,g=s*c,b=r[0],x=r[1],y=r[2];return t[0]=(1-(p+m))*b,t[1]=(f+g)*b,t[2]=(d-_)*b,t[3]=0,t[4]=(f-g)*x,t[5]=(1-(l+m))*x,t[6]=(v+M)*x,t[7]=0,t[8]=(d+_)*y,t[9]=(v-M)*y,t[10]=(1-(l+p))*y,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function N(t,e,n,r,i){var a=e[0],o=e[1],s=e[2],u=e[3],h=a+a,c=o+o,l=s+s,f=a*h,d=a*c,p=a*l,v=o*c,m=o*l,M=s*l,_=u*h,g=u*c,b=u*l,x=r[0],y=r[1],E=r[2],w=i[0],T=i[1],P=i[2];return t[0]=(1-(v+M))*x,t[1]=(d+b)*x,t[2]=(p-g)*x,t[3]=0,t[4]=(d-b)*y,t[5]=(1-(f+M))*y,t[6]=(m+_)*y,t[7]=0,t[8]=(p+g)*E,t[9]=(m-_)*E,t[10]=(1-(f+v))*E,t[11]=0,t[12]=n[0]+w-(t[0]*w+t[4]*T+t[8]*P),t[13]=n[1]+T-(t[1]*w+t[5]*T+t[9]*P),t[14]=n[2]+P-(t[2]*w+t[6]*T+t[10]*P),t[15]=1,t}function q(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n+n,s=r+r,u=i+i,h=n*o,c=r*o,l=r*s,f=i*o,d=i*s,p=i*u,v=a*o,m=a*s,M=a*u;return t[0]=1-l-p,t[1]=c+M,t[2]=f-m,t[3]=0,t[4]=c-M,t[5]=1-h-p,t[6]=d+v,t[7]=0,t[8]=f+m,t[9]=d-v,t[10]=1-h-l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function I(t,e,n,r,i,a,o){var s=1/(n-e),u=1/(i-r),h=1/(a-o);return t[0]=2*a*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*a*u,t[6]=0,t[7]=0,t[8]=(n+e)*s,t[9]=(i+r)*u,t[10]=(o+a)*h,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*a*2*h,t[15]=0,t}function D(t,e,n,r,i){var a=1/Math.tan(e/2),o=1/(r-i);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+r)*o,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*r*o,t[15]=0,t}function C(t,e,n,r){var i=Math.tan(e.upDegrees*Math.PI/180),a=Math.tan(e.downDegrees*Math.PI/180),o=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),u=2/(o+s),h=2/(i+a);return t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=h,t[6]=0,t[7]=0,t[8]=-((o-s)*u*.5),t[9]=(i-a)*h*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t}function j(t,e,n,r,i,a,o){var s=1/(e-n),u=1/(r-i),h=1/(a-o);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*h,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*u,t[14]=(o+a)*h,t[15]=1,t}function Y(t,e,n,r){var i=void 0,a=void 0,o=void 0,s=void 0,u=void 0,h=void 0,c=void 0,l=void 0,f=void 0,d=void 0,p=e[0],v=e[1],m=e[2],M=r[0],_=r[1],g=r[2],b=n[0],x=n[1],y=n[2];return Math.abs(p-b)<J.EPSILON&&Math.abs(v-x)<J.EPSILON&&Math.abs(m-y)<J.EPSILON?mat4.identity(t):(c=p-b,l=v-x,f=m-y,d=1/Math.sqrt(c*c+l*l+f*f),c*=d,l*=d,f*=d,i=_*f-g*l,a=g*c-M*f,o=M*l-_*c,d=Math.sqrt(i*i+a*a+o*o),d?(d=1/d,i*=d,a*=d,o*=d):(i=0,a=0,o=0),s=l*o-f*a,u=f*i-c*o,h=c*a-l*i,d=Math.sqrt(s*s+u*u+h*h),d?(d=1/d,s*=d,u*=d,h*=d):(s=0,u=0,h=0),t[0]=i,t[1]=s,t[2]=c,t[3]=0,t[4]=a,t[5]=u,t[6]=l,t[7]=0,t[8]=o,t[9]=h,t[10]=f,t[11]=0,t[12]=-(i*p+a*v+o*m),t[13]=-(s*p+u*v+h*m),t[14]=-(c*p+l*v+f*m),t[15]=1,t)}function U(t,e,n,r){var i=e[0],a=e[1],o=e[2],s=r[0],u=r[1],h=r[2],c=i-n[0],l=a-n[1],f=o-n[2],d=c*c+l*l+f*f;d>0&&(d=1/Math.sqrt(d),c*=d,l*=d,f*=d);var p=u*f-h*l,v=h*c-s*f,m=s*l-u*c;return t[0]=p,t[1]=v,t[2]=m,t[3]=0,t[4]=l*m-f*v,t[5]=f*p-c*m,t[6]=c*v-l*p,t[7]=0,t[8]=c,t[9]=l,t[10]=f,t[11]=0,t[12]=i,t[13]=a,t[14]=o,t[15]=1,t}function F(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function X(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))}function B(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t}function k(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function z(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t}function H(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t[9]=e[9]+n[9]*r,t[10]=e[10]+n[10]*r,t[11]=e[11]+n[11]*r,t[12]=e[12]+n[12]*r,t[13]=e[13]+n[13]*r,t[14]=e[14]+n[14]*r,t[15]=e[15]+n[15]*r,t}function G(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function V(t,e){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],u=t[6],h=t[7],c=t[8],l=t[9],f=t[10],d=t[11],p=t[12],v=t[13],m=t[14],M=t[15],_=e[0],g=e[1],b=e[2],x=e[3],y=e[4],E=e[5],w=e[6],T=e[7],P=e[8],O=e[9],L=e[10],R=e[11],S=e[12],A=e[13],N=e[14],q=e[15];return Math.abs(n-_)<=J.EPSILON*Math.max(1,Math.abs(n),Math.abs(_))&&Math.abs(r-g)<=J.EPSILON*Math.max(1,Math.abs(r),Math.abs(g))&&Math.abs(i-b)<=J.EPSILON*Math.max(1,Math.abs(i),Math.abs(b))&&Math.abs(a-x)<=J.EPSILON*Math.max(1,Math.abs(a),Math.abs(x))&&Math.abs(o-y)<=J.EPSILON*Math.max(1,Math.abs(o),Math.abs(y))&&Math.abs(s-E)<=J.EPSILON*Math.max(1,Math.abs(s),Math.abs(E))&&Math.abs(u-w)<=J.EPSILON*Math.max(1,Math.abs(u),Math.abs(w))&&Math.abs(h-T)<=J.EPSILON*Math.max(1,Math.abs(h),Math.abs(T))&&Math.abs(c-P)<=J.EPSILON*Math.max(1,Math.abs(c),Math.abs(P))&&Math.abs(l-O)<=J.EPSILON*Math.max(1,Math.abs(l),Math.abs(O))&&Math.abs(f-L)<=J.EPSILON*Math.max(1,Math.abs(f),Math.abs(L))&&Math.abs(d-R)<=J.EPSILON*Math.max(1,Math.abs(d),Math.abs(R))&&Math.abs(p-S)<=J.EPSILON*Math.max(1,Math.abs(p),Math.abs(S))&&Math.abs(v-A)<=J.EPSILON*Math.max(1,Math.abs(v),Math.abs(A))&&Math.abs(m-N)<=J.EPSILON*Math.max(1,Math.abs(m),Math.abs(N))&&Math.abs(M-q)<=J.EPSILON*Math.max(1,Math.abs(M),Math.abs(q))}Object.defineProperty(e,"__esModule",{value:!0}),e.sub=e.mul=void 0,e.create=i,e.clone=a,e.copy=o,e.fromValues=s,e.set=u,e.identity=h,e.transpose=c,e.invert=l,e.adjoint=f,e.determinant=d,e.multiply=p,e.translate=v,e.scale=m,e.rotate=M,e.rotateX=_,e.rotateY=g,e.rotateZ=b,e.fromTranslation=x,e.fromScaling=y,e.fromRotation=E,e.fromXRotation=w,e.fromYRotation=T,e.fromZRotation=P,e.fromRotationTranslation=O,e.getTranslation=L,e.getScaling=R,e.getRotation=S,e.fromRotationTranslationScale=A,e.fromRotationTranslationScaleOrigin=N,e.fromQuat=q,e.frustum=I,e.perspective=D,e.perspectiveFromFieldOfView=C,e.ortho=j,e.lookAt=Y,e.targetTo=U,e.str=F,e.frob=X,e.add=B,e.subtract=k,e.multiplyScalar=z,e.multiplyScalarAndAdd=H,e.exactEquals=G,e.equals=V;var W=n(0),J=r(W);e.mul=p,e.sub=k},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(){var t=new b.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function a(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function o(t,e,n){n*=.5;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function s(t,e){var n=2*Math.acos(e[3]),r=Math.sin(n/2);return 0!=r?(t[0]=e[0]/r,t[1]=e[1]/r,t[2]=e[2]/r):(t[0]=1,t[1]=0,t[2]=0),n}function u(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=n[0],u=n[1],h=n[2],c=n[3];return t[0]=r*c+o*s+i*h-a*u,t[1]=i*c+o*u+a*s-r*h,t[2]=a*c+o*h+r*u-i*s,t[3]=o*c-r*s-i*u-a*h,t}function h(t,e,n){n*=.5;var r=e[0],i=e[1],a=e[2],o=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+o*s,t[1]=i*u+a*s,t[2]=a*u-i*s,t[3]=o*u-r*s,t}function c(t,e,n){n*=.5;var r=e[0],i=e[1],a=e[2],o=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u-a*s,t[1]=i*u+o*s,t[2]=a*u+r*s,t[3]=o*u-i*s,t}function l(t,e,n){n*=.5;var r=e[0],i=e[1],a=e[2],o=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+i*s,t[1]=i*u-r*s,t[2]=a*u+o*s,t[3]=o*u-a*s,t}function f(t,e){var n=e[0],r=e[1],i=e[2];return t[0]=n,t[1]=r,t[2]=i,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-i*i)),t}function d(t,e,n,r){var i=e[0],a=e[1],o=e[2],s=e[3],u=n[0],h=n[1],c=n[2],l=n[3],f=void 0,d=void 0,p=void 0,v=void 0,m=void 0;return d=i*u+a*h+o*c+s*l,d<0&&(d=-d,u=-u,h=-h,c=-c,l=-l),1-d>1e-6?(f=Math.acos(d),p=Math.sin(f),v=Math.sin((1-r)*f)/p,m=Math.sin(r*f)/p):(v=1-r,m=r),t[0]=v*i+m*u,t[1]=v*a+m*h,t[2]=v*o+m*c,t[3]=v*s+m*l,t}function p(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n*n+r*r+i*i+a*a,s=o?1/o:0;return t[0]=-n*s,t[1]=-r*s,t[2]=-i*s,t[3]=a*s,t}function v(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function m(t,e){var n=e[0]+e[4]+e[8],r=void 0;if(n>0)r=Math.sqrt(n+1),t[3]=.5*r,r=.5/r,t[0]=(e[5]-e[7])*r,t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r;else{var i=0;e[4]>e[0]&&(i=1),e[8]>e[3*i+i]&&(i=2);var a=(i+1)%3,o=(i+2)%3;r=Math.sqrt(e[3*i+i]-e[3*a+a]-e[3*o+o]+1),t[i]=.5*r,r=.5/r,t[3]=(e[3*a+o]-e[3*o+a])*r,t[a]=(e[3*a+i]+e[3*i+a])*r,t[o]=(e[3*o+i]+e[3*i+o])*r}return t}function M(t,e,n,r){var i=.5*Math.PI/180;e*=i,n*=i,r*=i;var a=Math.sin(e),o=Math.cos(e),s=Math.sin(n),u=Math.cos(n),h=Math.sin(r),c=Math.cos(r);return t[0]=a*u*c-o*s*h,t[1]=o*s*c+a*u*h,t[2]=o*u*h-a*s*c,t[3]=o*u*c+a*s*h,t}function _(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}Object.defineProperty(e,"__esModule",{value:!0}),e.setAxes=e.sqlerp=e.rotationTo=e.equals=e.exactEquals=e.normalize=e.sqrLen=e.squaredLength=e.len=e.length=e.lerp=e.dot=e.scale=e.mul=e.add=e.set=e.copy=e.fromValues=e.clone=void 0,e.create=i,e.identity=a,e.setAxisAngle=o,e.getAxisAngle=s,e.multiply=u,e.rotateX=h,e.rotateY=c,e.rotateZ=l,e.calculateW=f,e.slerp=d,e.invert=p,e.conjugate=v,e.fromMat3=m,e.fromEuler=M,e.str=_;var g=n(0),b=r(g),x=n(1),y=r(x),E=n(2),w=r(E),T=n(3),P=r(T),O=(e.clone=P.clone,e.fromValues=P.fromValues,e.copy=P.copy,e.set=P.set,e.add=P.add,e.mul=u,e.scale=P.scale,e.dot=P.dot,e.lerp=P.lerp,e.length=P.length),L=(e.len=O,e.squaredLength=P.squaredLength),R=(e.sqrLen=L,e.normalize=P.normalize);e.exactEquals=P.exactEquals,e.equals=P.equals,e.rotationTo=function(){var t=w.create(),e=w.fromValues(1,0,0),n=w.fromValues(0,1,0);return function(r,i,a){var s=w.dot(i,a);return s<-.999999?(w.cross(t,e,i),w.len(t)<1e-6&&w.cross(t,n,i),w.normalize(t,t),o(r,t,Math.PI),r):s>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(w.cross(t,i,a),r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=1+s,R(r,r))}}(),e.sqlerp=function(){var t=i(),e=i();return function(n,r,i,a,o,s){return d(t,r,o,s),d(e,i,a,s),d(n,t,e,2*s*(1-s)),n}}(),e.setAxes=function(){var t=y.create();return function(e,n,r,i){return t[0]=r[0],t[3]=r[1],t[6]=r[2],t[1]=i[0],t[4]=i[1],t[7]=i[2],t[2]=-n[0],t[5]=-n[1],t[8]=-n[2],R(e,m(e,t))}}()},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(){var t=new U.ARRAY_TYPE(2);return t[0]=0,t[1]=0,t}function a(t){var e=new U.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e}function o(t,e){var n=new U.ARRAY_TYPE(2);return n[0]=t,n[1]=e,n}function s(t,e){return t[0]=e[0],t[1]=e[1],t}function u(t,e,n){return t[0]=e,t[1]=n,t}function h(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function c(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function l(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function f(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function d(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function p(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function v(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function m(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}function M(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}function _(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function g(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t}function b(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)}function x(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}function y(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)}function E(t){var e=t[0],n=t[1];return e*e+n*n}function w(t,e){return t[0]=-e[0],t[1]=-e[1],t}function T(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function P(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i),t}function O(t,e){return t[0]*e[0]+t[1]*e[1]}function L(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t}function R(t,e,n,r){var i=e[0],a=e[1];return t[0]=i+r*(n[0]-i),t[1]=a+r*(n[1]-a),t}function S(t,e){e=e||1;var n=2*U.RANDOM()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t}function A(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i,t[1]=n[1]*r+n[3]*i,t}function N(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t}function q(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[3]*i+n[6],t[1]=n[1]*r+n[4]*i+n[7],t}function I(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t}function D(t){return"vec2("+t[0]+", "+t[1]+")"}function C(t,e){return t[0]===e[0]&&t[1]===e[1]}function j(t,e){var n=t[0],r=t[1],i=e[0],a=e[1];return Math.abs(n-i)<=U.EPSILON*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-a)<=U.EPSILON*Math.max(1,Math.abs(r),Math.abs(a))}Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=e.sqrLen=e.sqrDist=e.dist=e.div=e.mul=e.sub=e.len=void 0,e.create=i,e.clone=a,e.fromValues=o,e.copy=s,e.set=u,e.add=h,e.subtract=c,e.multiply=l,e.divide=f,e.ceil=d,e.floor=p,e.min=v,e.max=m,e.round=M,e.scale=_,e.scaleAndAdd=g,e.distance=b,e.squaredDistance=x,e.length=y,e.squaredLength=E,e.negate=w,e.inverse=T,e.normalize=P,e.dot=O,e.cross=L,e.lerp=R,e.random=S,e.transformMat2=A,e.transformMat2d=N,e.transformMat3=q,e.transformMat4=I,e.str=D,e.exactEquals=C,e.equals=j;var Y=n(0),U=r(Y);e.len=y,e.sub=c,e.mul=l,e.div=f,e.dist=b,e.sqrDist=x,e.sqrLen=E,e.forEach=function(){var t=i();return function(e,n,r,i,a,o){var s=void 0,u=void 0;for(n||(n=2),r||(r=0),u=i?Math.min(i*n+r,e.length):e.length,s=r;s<u;s+=n)t[0]=e[s],t[1]=e[s+1],a(t,t,o),e[s]=t[0],e[s+1]=t[1];return e}}()}])})},function(t,e){"use strict";t.exports=function(t,e){e=e||{};for(var n={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},r=n.parser[e.strictMode?"strict":"loose"].exec(t),i={},a=14;a--;)i[n.key[a]]=r[a]||"";return i[n.q.name]={},i[n.key[12]].replace(n.q.parser,function(t,e,r){e&&(i[n.q.name][e]=r)}),i}},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(c===setTimeout)return setTimeout(t,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0)}catch(e){return c.call(this,t,0)}}}function a(t){if(l===clearTimeout)return clearTimeout(t);if((l===r||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(t);try{return l(t)}catch(e){try{return l.call(null,t)}catch(e){return l.call(this,t)}}}function o(){v&&d&&(v=!1,d.length?p=d.concat(p):m=-1,p.length&&s())}function s(){if(!v){var t=i(o);v=!0;for(var e=p.length;e;){for(d=p,p=[];++m<e;)d&&d[m].run();m=-1,e=p.length}d=null,v=!1,a(t)}}function u(t,e){this.fun=t,this.array=e}function h(){}var c,l,f=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(t){c=n}try{l="function"==typeof clearTimeout?clearTimeout:r}catch(t){l=r}}();var d,p=[],v=!1,m=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];p.push(new u(t,e)),1!==p.length||v||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=h,f.addListener=h,f.once=h,f.off=h,f.removeListener=h,f.removeAllListeners=h,f.emit=h,f.prependListener=h,f.prependOnceListener=h,f.listeners=function(t){return[]},f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(t,e){"use strict";function n(){}function r(t,e,n){var r=0,i=t.length;!function a(o){return o||r===i?void(n&&n(o)):void e(t[r++],a)}()}function i(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}}function a(t,e){function r(t,e,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");if(s.started=!0,null==t&&s.idle())return void setTimeout(function(){s.drain()},1);var i={data:t,callback:"function"==typeof r?r:n};e?s._tasks.unshift(i):s._tasks.push(i),setTimeout(function(){s.process()},1)}function a(t){return function(){o-=1,t.callback.apply(t,arguments),null!=arguments[0]&&s.error(arguments[0],t.data),o<=s.concurrency-s.buffer&&s.unsaturated(),s.idle()&&s.drain(),s.process()}}if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var o=0,s={_tasks:[],concurrency:e,saturated:n,unsaturated:n,buffer:e/4,empty:n,drain:n,error:n,started:!1,paused:!1,push:function(t,e){r(t,!1,e)},kill:function(){s.drain=n,s._tasks=[]},unshift:function(t,e){r(t,!0,e)},process:function(){for(;!s.paused&&o<s.concurrency&&s._tasks.length;){var e=s._tasks.shift();0===s._tasks.length&&s.empty(),o+=1,o===s.concurrency&&s.saturated(),t(e.data,i(a(e)))}},length:function(){return s._tasks.length},running:function(){return o},idle:function(){return s._tasks.length+o===0},pause:function(){s.paused!==!0&&(s.paused=!0)},resume:function(){if(s.paused!==!1){s.paused=!1;for(var t=1;t<=s.concurrency;t++)s.process()}}};return s}t.exports={eachSeries:r,queue:a}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=n(12);e.default=new(function(){function t(){r(this,t),this.extensions={}}return t.prototype.init=function(){for(var t=POLY.gl,e=0;e<i.extensions.length;e++)this.extensions[i.extensions[e]]=t.getExtension(i.extensions[e])},t.prototype.checkExtension=function(t){return!!this.extensions[t]},t.prototype.getExtension=function(t){return this.extensions[t]},t}()),t.exports=e.default},function(t,e){"use strict";e.__esModule=!0,e.default={uniformTypes:{float:"uniform1f",vec2:"uniform2fv",vec3:"uniform3fv",vec4:"uniform4fv",int:"uniform1i",texture:"uniform1i",mat3:"uniformMatrix3fv",mat4:"uniformMatrix4fv"},extensions:["EXT_shader_texture_lod","EXT_sRGB","EXT_frag_depth","OES_texture_float","OES_texture_half_float","OES_texture_float_linear","OES_texture_half_float_linear","OES_standard_derivatives","WEBGL_depth_texture","EXT_texture_filter_anisotropic","ANGLE_instanced_arrays","WEBGL_draw_buffers"]},t.exports=e.default},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var r=function(){function t(){n(this,t),this.indexUniq=0,this.middlePointIndexCache={},this.vertices=[],this.isNormalised=!0}return t.prototype.multiplyTriangles=function(t,e,n){this.indexUniq=n.length,this.vertices=n;var r=e.slice();this.isNormalised=!0;for(var i=0;i<this.vertices.length&&this.isNormalised;i++)for(var a=0;a<this.vertices[i].length;a++)Math.abs(this.vertices[i][a])>1&&(this.isNormalised=!1);for(var i=0;i<t;i++){for(var o=[],a=0;a<r.length;a++){var s=r[a],u=this.getMiddlePoint(s[0],s[1]),h=this.getMiddlePoint(s[1],s[2]),c=this.getMiddlePoint(s[2],s[0]);o.push([s[0],u,c]),o.push([s[1],h,u]),o.push([s[2],h,c]),o.push([u,h,c])}r=o.slice()}return r},t.prototype.addVertex=function(t){var e=this.isNormalised?Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]):1;return this.vertices.push([t[0]/e,t[1]/e,t[2]/e]),this.indexUniq++},t.prototype.getMiddlePoint=function(t,e){var n=t<e,r=n?t:e,i=n?e:t,a=(r<<32)+i,o=this.vertices[t],s=this.vertices[e],u=[(o[0]+s[0])/2,(o[1]+s[1])/2,(o[2]+s[2])/2],h=this.addVertex(u);return this.middlePointIndexCache[a]=h,h},t}();e.default=new r,t.exports=e.default},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var r=function(){function t(){n(this,t)}return t.prototype.separate=function(t,e){for(var n=[],r=[],i=0;i<t.length;i++)n.push(t[i][0],t[i][1],t[i][2]),r.push(t[i][0],t[i][1],t[i][2]);for(var a=e.slice(),o=[],s=0;s<n.length;s++)o[s]=a[n[s]].slice(),n[s]=s;return{faces:n,vertices:o}},t}();e.default=new r,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=n(2),s=i(o),u=n(16),h=(r(u),n(17)),c=r(h),l=n(20),f=n(32);window.ASSET_URL="../../assets/";var d=function(){function t(){a(this,t);var e=document.getElementById("canvas");s.init(e),this.gl=s.gl,this.gl.clearColor(0,0,0,1),this.loader=new l.Loader,this.loader.addManifest(f.default,window.ASSET_URL),this.loader.onComplete.add(this._loadComplete,this),this.loader.load()}return t.prototype._loadComplete=function(){this.scene=new c.default,this.scene.resize(),s.utils.loop.add(this._update.bind(this))},t.prototype.resize=function(){s.GL.resize(this.gl.canvas.clientWidth,this.gl.canvas.clientHeight),this.scene&&this.scene.resize()},t.prototype._update=function(){this.gl.clearColor(0,0,0,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT),this.scene.render()},t}();e.default=d,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=n(2),s=i(o),u=n(33),h=r(u),c=n(34),l=r(c),f=n(7),d=function(){function t(){a(this,t),this.gl=null,this.program=null,this.sphere=null,this.rot=null,this.tick=0,this.angle=null,this.modelMatrix=f.mat4.create(),this.camera=new s.cameras.PerspectiveCamera,this.camera.perspective(45,s.GL.aspectRatio,.1,100),this.orbitalControl=new s.control.OrbitalControl(this.camera.matrix),this._matrix=f.mat4.create(),this.normalMatrix=f.mat3.create(),this.gl=s.gl;var e=new s.State(this.gl);e.depthTest=!0,this.fbo=new s.FrameBuffer(1024,1024);var n="\n\t\t\tprecision mediump float;\n\n\t\t\tattribute vec3 aPosition;\n\t\t\tattribute vec3 aNormal;\n\t\t\tattribute vec2 aUv;\n\t\t\tuniform mat4 modelMatrix;\n\t\t\tuniform mat4 viewMatrix;\n\t\t\tuniform mat4 projectionMatrix;\n\n\t\t\tvarying vec3 vPos;\n\t\t\tvarying vec2 vUv;\n\n\n\t\t\tvoid main(void) {\n\t\t\t\tvPos = aPosition;\n\t\t\t\tvec3 n = aNormal;\n\t\t\t\tvUv = aUv;\n\t\t\t    gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(aPosition, 1.0);\n\t\t\t}\n\t\t",r="\n\t\tprecision mediump float;\n\n\t\tuniform sampler2D uTexture;\n\n\t\tvarying vec3 vPos;\n\t\tvarying vec2 vUv;\n\n\t\tvoid main(void) {\n\n\t\t\tvec4 textureColor = texture2D(uTexture, vec2(vUv.s, vUv.t));\n\t\t\tgl_FragColor = textureColor;\n\t\t\t// gl_FragColor = vec4(1.);\n\t\t\t// gl_FragColor.rgb *= uAlpha;\n\t\t}\n\n\t\t";this.textureCrate=new s.Texture(window.ASSET_URL+"image/crate.gif"),this.programQuad=new s.Program(n,r,{projectionMatrix:{value:this.camera.projectionMatrix,type:"mat4"},modelMatrix:{value:this.modelMatrix,type:"mat4"},viewMatrix:{value:this.camera.matrix,type:"mat4"},uTexture:{type:"texture",value:this.textureCrate}}),this.quad=new s.geometry.Mesh(this.programQuad,e),this.quad.addPosition([-1,-1,0,-1,1,0,1,1,0,1,-1,0],"aPosition"),this.quad.addAttribute([1,0,1,1,0,1,0,0],"aUv",2),this.quad.addIndices([0,1,2,0,2,3]),this.texture=new s.Texture(window.ASSET_URL+"image/earth.jpg"),this.textureSpecular=new s.Texture(window.ASSET_URL+"image/earth-specular.gif");var i={projectionMatrix:{value:this.camera.projectionMatrix,type:"mat4"},normalMatrix:{value:this.normalMatrix,type:"mat3"},modelMatrix:{value:this.modelMatrix,type:"mat4"},viewMatrix:{value:this.camera.matrix,type:"mat4"},uTexture:{value:this.texture,type:"texture",index:0},uTextureSpecular:{value:this.textureSpecular,type:"texture",index:1},uAmbientColor:{value:[.5,.5,.5],type:"vec3"},uPointLightingLocation:{value:[-2,0,0],type:"vec3"},uPointLightingDiffuseColor:{value:[1,0,0],type:"vec3"},uPointLightingSpecularColor:{value:[5,5,5],type:"vec3"},uMaterialShininess:{value:40,type:"float"},uAlpha:{value:1,type:"float"}};this.program=new s.Program(l.default,h.default,i),this.sphere=new s.geometry.Cube(this.program,{},e)}return t.prototype.render=function(){this.tick++,this.orbitalControl.update(),this.camera.position[2]+=.01,this.sphere.rotation.y+=.01,f.mat4.multiply(this._matrix,this.camera.matrix,this.sphere._matrix),f.mat3.fromMat4(this.normalMatrix,this._matrix),f.mat3.transpose(this.normalMatrix,this.normalMatrix),this.fbo.bind(),this.program.bind(),this.texture.bind(0),this.textureSpecular.bind(1),this.program.uniforms.projectionMatrix=this.camera.projectionMatrix,this.program.uniforms.viewMatrix=this.camera.matrix,this.program.uniforms.normalMatrix=this.normalMatrix,this.program.uniforms.modelMatrix=this.sphere._matrix,s.GL.draw(this.sphere),this.fbo.unbind(),this.programQuad.bind(),this.fbo.textures[0].bind(),this.programQuad.uniforms.projectionMatrix=this.camera.projectionMatrix,this.programQuad.uniforms.viewMatrix=this.camera.matrix,this.programQuad.uniforms.modelMatrix=this.quad._matrix,s.GL.draw(this.quad)},t.prototype.resize=function(){this.camera.setAspectRatio(s.GL.aspectRatio),this.quad.scale.set(2*s.GL.aspectRatio,2,0)},t}();e.default=d,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=n(2),s=i(o),u=n(35),h=(r(u),n(36)),c=(r(h),n(39)),l=r(c),f=n(40),d=r(f),p=n(37),v=r(p),m=n(38),M=r(m),_=n(41),g=(r(_),n(42)),b=(r(g),n(7)),x=function(){function t(){a(this,t),this.gl=null,this.program=null,this.sphere=null,this.rot=null,this.tick=0,this.angle=null,this.modelMatrix=b.mat4.create(),this.camera=new s.cameras.PerspectiveCamera,this.camera.perspective(45,s.GL.aspectRatio,.1,100),this.orbitalControl=new s.control.OrbitalControl(this.camera.matrix),this._matrix=b.mat4.create(),this.normalMatrix=b.mat3.create(),this.gl=s.gl;var e=new s.State(this.gl);e.depthTest=!0;var n=1024,r=1024;this.fbo=new s.FrameBuffer(n,r);for(var i=n,o=r,u=i*o*4,h=new Float32Array(u);u--;)h[u]=Math.random();this.dataTexture=new s.DataTexture(h,i,o),this.simulationProgram=new s.Program(d.default,l.default,{projectionMatrix:{value:this.camera.projectionMatrix,type:"mat4"},modelMatrix:{value:this.modelMatrix,type:"mat4"},viewMatrix:{value:this.camera.matrix,type:"mat4"}}),this.geomSim=new s.geometry.Quad(this.simulationProgram,null,e),this.renderingProgram=new s.Program(M.default,v.default,{projectionMatrix:{value:this.camera.projectionMatrix,type:"mat4"},modelMatrix:{value:this.modelMatrix,type:"mat4"},viewMatrix:{value:this.camera.matrix,type:"mat4"},pointSize:{value:1,type:"float"}});for(var c=n*r,f=new Float32Array(3*c),p=0;p<c;p++){var m=3*p;f[m]=p%n/n,f[m+1]=p/n/r}this.geomRendering=new s.geometry.Mesh(this.renderingProgram,e,s.gl.POINTS),this.geomRendering.addPosition(f)}return t.prototype.render=function(){this.tick++,this.orbitalControl.update(),b.mat3.fromMat4(this.normalMatrix,this._matrix),b.mat3.transpose(this.normalMatrix,this.normalMatrix),this.fbo.bind(),this.simulationProgram.bind(),this.dataTexture.bind(0),this.simulationProgram.uniforms.projectionMatrix=this.camera.projectionMatrix,this.simulationProgram.uniforms.viewMatrix=this.camera.matrix,s.GL.draw(this.geomSim),this.fbo.unbind(),this.renderingProgram.bind(),this.fbo.textures[0].bind(0),this.renderingProgram.uniforms.projectionMatrix=this.camera.projectionMatrix,this.renderingProgram.uniforms.viewMatrix=this.camera.matrix,s.GL.draw(this.geomRendering),this.fbo.clear()},t.prototype.resize=function(){this.camera.setAspectRatio(s.GL.aspectRatio)},t}();e.default=x,t.exports=e.default},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var r=function(){function t(){n(this,t),this._json={},this._text={}}return t.prototype.addJson=function(t,e){this._json[e]=t},t.prototype.getJson=function(t){return this._json[t]?this._json[t]:(console.warn(t+" not found in Cache"),null)},t}();e.default=r,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var a=n(28),o=r(a),s=n(22),u=r(s),h=n(18),c=r(h),l=n(25),f=r(l),d=n(21),p=r(d),v=function(){function t(){i(this,t),this.crossdomain=!1,this.assetsToLoad=[],window.XDomainRequest&&this.crossdomain?(this.ajaxRequest=new window.XDomainRequest,this.ajaxRequest.timeout=3e3,this.ajaxRequest.onerror=function(){},this.ajaxRequest.ontimeout=function(){},this.ajaxRequest.onprogress=function(){}):window.XMLHttpRequest&&(this.ajaxRequest=new window.XMLHttpRequest),this.ajaxRequest.onload=this._onFileLoaded.bind(this),this.ajaxRequest.onreadystatechange=function(t){},this.fileCount=0,this.filesToLoad=[],this.fontsToLoad=[],this.soundsToLoad=[],this.customToLoad=[],this.onComplete=new o.default,this.onProgress=new o.default}return t.prototype.addFonts=function(t){return this.fontsToLoad=this.fontsToLoad.concat(t),this},t.prototype.addJson=function(e,n){var n=n||u.default.basename(e,u.default.extname(e)),r={url:e,id:n,type:t.JSON};return this.filesToLoad.push(r),this},t.prototype.addAssets=function(t){return this.assetsToLoad=this.assetsToLoad.concat(t),this},t.prototype.addCSS=function(t){var e=document.createElement("link");return e.type="text/css",e.rel="stylesheet",e.href=t,document.getElementsByTagName("head")[0].appendChild(e),this},t.prototype.load=function(){this._loadFonts()},t.prototype._loadFiles=function(){this.fileCount=0,this.filesToLoad.length?this._loadNextFile():this._loadAssets()},t.prototype._loadNextFile=function(){var e=this.filesToLoad[this.fileCount];e.type===t.CUSTOM?(e.object.onLoaded.addOnce(this._onFileLoaded,this),
e.object.load()):(this.ajaxRequest.open("GET",e.url,!0),this.ajaxRequest.send())},t.prototype._onFileLoaded=function(){var e=this.filesToLoad[this.fileCount];if(e.type===t.CUSTOM);else if(0===this.ajaxRequest.status||200===this.ajaxRequest.status)switch(e.type){case t.TEXT:var n=this.ajaxRequest.responseText;c.default.addText(n,e.id);break;case t.JSON:var r=JSON.parse(this.ajaxRequest.responseText);c.default.addJson(r,e.id)}else console.warn("Loader: "+e.url+" not found");this.fileCount++,this._onProgress(),this.fileCount===this.filesToLoad.length?this._loadAssets():this._loadNextFile()},t.prototype._getFonts=function(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n].load());return e},t.prototype._loadFonts=function(){var t=this;if(0===this.fontsToLoad.length)return void this._loadFiles();for(var e=[],n=0;n<this.fontsToLoad.length;n++){var r=new p.default(this.fontsToLoad[n]);e.push(r)}Promise.all(this._getFonts(e)).then(function(e){t._loadFiles()},function(){t._loadFiles()})},t.prototype.addManifest=function(t,e){var n=t.map(function(t){return e+t});return this.addAssets(n),this},t.prototype._loadAssets=function(){return 0===this.assetsToLoad.length?void this._onComplete():(this.assetLoader=new f.default,this.assetLoader.add(this.assetsToLoad),this.assetLoader.on("progress",this._onProgress,this),void this.assetLoader.load(this._onComplete.bind(this)))},t.prototype._onComplete=function(t,e){POLY.loadedResources=e,this.onProgress.dispatch(1),this.onComplete.dispatch()},t.prototype._onProgress=function(){var t=(this.filesToLoad.length+this.assetsToLoad.length,this.fileCount);this.assetLoader&&(t=this.assetLoader.progress),this.onProgress.dispatch(.01*t)},t}();v.TEXT=0,v.JSON=1,v.CUSTOM=2,e.default=v,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.Loader=void 0;var i=n(19),a=r(i);e.Loader=a.default},function(t,e,n){!function(){function e(t,e){document.addEventListener?t.addEventListener("scroll",e,!1):t.attachEvent("scroll",e)}function n(t){document.body?t():document.addEventListener?document.addEventListener("DOMContentLoaded",function e(){document.removeEventListener("DOMContentLoaded",e),t()}):document.attachEvent("onreadystatechange",function e(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",e),t())})}function r(t){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(t)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function i(t,e){t.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;left:-999px;white-space:nowrap;font:"+e+";"}function a(t){var e=t.a.offsetWidth,n=e+100;return t.f.style.width=n+"px",t.c.scrollLeft=n,t.b.scrollLeft=t.b.scrollWidth+100,t.g!==e&&(t.g=e,!0)}function o(t,n){function r(){var t=i;a(t)&&t.a.parentNode&&n(t.g)}var i=t;e(t.b,r),e(t.c,r),a(t)}function s(t,e){var n=e||{};this.family=t,this.style=n.style||"normal",this.weight=n.weight||"normal",this.stretch=n.stretch||"normal"}function u(){if(null===f){var t=document.createElement("div");try{t.style.font="condensed 100px sans-serif"}catch(t){}f=""!==t.style.font}return f}function h(t,e){return[t.style,t.weight,u()?t.stretch:"","100px",e].join(" ")}var c=null,l=null,f=null,d=null;s.prototype.load=function(t,e){var a=this,s=t||"BESbswy",u=0,f=e||3e3,p=(new Date).getTime();return new Promise(function(t,e){var v;if(null===d&&(d=!!document.fonts),(v=d)&&(null===l&&(l=/OS X.*Version\/10\..*Safari/.test(navigator.userAgent)&&/Apple/.test(navigator.vendor)),v=!l),v){v=new Promise(function(t,e){function n(){(new Date).getTime()-p>=f?e():document.fonts.load(h(a,'"'+a.family+'"'),s).then(function(e){1<=e.length?t():setTimeout(n,25)},function(){e()})}n()});var m=new Promise(function(t,e){u=setTimeout(e,f)});Promise.race([m,v]).then(function(){clearTimeout(u),t(a)},function(){e(a)})}else n(function(){function n(){var e;(e=-1!=M&&-1!=_||-1!=M&&-1!=g||-1!=_&&-1!=g)&&((e=M!=_&&M!=g&&_!=g)||(null===c&&(e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),c=!!e&&(536>parseInt(e[1],10)||536===parseInt(e[1],10)&&11>=parseInt(e[2],10))),e=c&&(M==b&&_==b&&g==b||M==x&&_==x&&g==x||M==y&&_==y&&g==y)),e=!e),e&&(E.parentNode&&E.parentNode.removeChild(E),clearTimeout(u),t(a))}function l(){if((new Date).getTime()-p>=f)E.parentNode&&E.parentNode.removeChild(E),e(a);else{var t=document.hidden;!0!==t&&void 0!==t||(M=d.a.offsetWidth,_=v.a.offsetWidth,g=m.a.offsetWidth,n()),u=setTimeout(l,50)}}var d=new r(s),v=new r(s),m=new r(s),M=-1,_=-1,g=-1,b=-1,x=-1,y=-1,E=document.createElement("div");E.dir="ltr",i(d,h(a,"sans-serif")),i(v,h(a,"serif")),i(m,h(a,"monospace")),E.appendChild(d.a),E.appendChild(v.a),E.appendChild(m.a),document.body.appendChild(E),b=d.a.offsetWidth,x=v.a.offsetWidth,y=m.a.offsetWidth,l(),o(d,function(t){M=t,n()}),i(d,h(a,'"'+a.family+'",sans-serif')),o(v,function(t){_=t,n()}),i(v,h(a,'"'+a.family+'",serif')),o(m,function(t){g=t,n()}),i(m,h(a,'"'+a.family+'",monospace'))})})},t.exports=s}()},function(t,e,n){(function(e){"use strict";function r(t,e){for(var n=[],r=0;r<t.length;r++){var i=t[r];i&&"."!==i&&(".."===i?n.length&&".."!==n[n.length-1]?n.pop():e&&n.push(".."):n.push(i))}return n}function i(t){for(var e=t.length-1,n=0;n<=e&&!t[n];n++);for(var r=e;r>=0&&!t[r];r--);return 0===n&&r===e?t:n>r?[]:t.slice(n,r+1)}function a(t){var e=l.exec(t),n=(e[1]||"")+(e[2]||""),r=e[3]||"",i=f.exec(r),a=i[1],o=i[2],s=i[3];return[n,a,o,s]}function o(t){var e=l.exec(t),n=e[1]||"",r=!!n&&":"!==n[1];return{device:n,isUnc:r,isAbsolute:r||!!e[2],tail:e[3]}}function s(t){return"\\\\"+t.replace(/^[\\\/]+/,"").replace(/[\\\/]+/g,"\\")}function u(t){return p.exec(t).slice(1)}var h="win32"===e.platform,c=n(31),l=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,f=/^([\s\S]*?)((?:\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))(?:[\\\/]*)$/,d={};d.resolve=function(){for(var t="",n="",i=!1,a=arguments.length-1;a>=-1;a--){var u;if(a>=0?u=arguments[a]:t?(u=e.env["="+t],u&&u.substr(0,3).toLowerCase()===t.toLowerCase()+"\\"||(u=t+"\\")):u=e.cwd(),!c.isString(u))throw new TypeError("Arguments to path.resolve must be strings");if(u){var h=o(u),l=h.device,f=h.isUnc,d=h.isAbsolute,p=h.tail;if((!l||!t||l.toLowerCase()===t.toLowerCase())&&(t||(t=l),i||(n=p+"\\"+n,i=d),t&&i))break}}return f&&(t=s(t)),n=r(n.split(/[\\\/]+/),!i).join("\\"),t+(i?"\\":"")+n||"."},d.normalize=function(t){var e=o(t),n=e.device,i=e.isUnc,a=e.isAbsolute,u=e.tail,h=/[\\\/]$/.test(u);return u=r(u.split(/[\\\/]+/),!a).join("\\"),u||a||(u="."),u&&h&&(u+="\\"),i&&(n=s(n)),n+(a?"\\":"")+u},d.isAbsolute=function(t){return o(t).isAbsolute},d.join=function(){for(var t=[],e=0;e<arguments.length;e++){var n=arguments[e];if(!c.isString(n))throw new TypeError("Arguments to path.join must be strings");n&&t.push(n)}var r=t.join("\\");return/^[\\\/]{2}[^\\\/]/.test(t[0])||(r=r.replace(/^[\\\/]{2,}/,"\\")),d.normalize(r)},d.relative=function(t,e){t=d.resolve(t),e=d.resolve(e);for(var n=t.toLowerCase(),r=e.toLowerCase(),a=i(e.split("\\")),o=i(n.split("\\")),s=i(r.split("\\")),u=Math.min(o.length,s.length),h=u,c=0;c<u;c++)if(o[c]!==s[c]){h=c;break}if(0==h)return e;for(var l=[],c=h;c<o.length;c++)l.push("..");return l=l.concat(a.slice(h)),l.join("\\")},d._makeLong=function(t){if(!c.isString(t))return t;if(!t)return"";var e=d.resolve(t);return/^[a-zA-Z]\:\\/.test(e)?"\\\\?\\"+e:/^\\\\[^?.]/.test(e)?"\\\\?\\UNC\\"+e.substring(2):t},d.dirname=function(t){var e=a(t),n=e[0],r=e[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},d.basename=function(t,e){var n=a(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},d.extname=function(t){return a(t)[3]},d.format=function(t){if(!c.isObject(t))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof t);var e=t.root||"";if(!c.isString(e))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof t.root);var n=t.dir,r=t.base||"";return n?n[n.length-1]===d.sep?n+r:n+d.sep+r:r},d.parse=function(t){if(!c.isString(t))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof t);var e=a(t);if(!e||4!==e.length)throw new TypeError("Invalid path '"+t+"'");return{root:e[0],dir:e[0]+e[1].slice(0,-1),base:e[2],ext:e[3],name:e[2].slice(0,e[2].length-e[3].length)}},d.sep="\\",d.delimiter=";";var p=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,v={};v.resolve=function(){for(var t="",n=!1,i=arguments.length-1;i>=-1&&!n;i--){var a=i>=0?arguments[i]:e.cwd();if(!c.isString(a))throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,n="/"===a[0])}return t=r(t.split("/"),!n).join("/"),(n?"/":"")+t||"."},v.normalize=function(t){var e=v.isAbsolute(t),n=t&&"/"===t[t.length-1];return t=r(t.split("/"),!e).join("/"),t||e||(t="."),t&&n&&(t+="/"),(e?"/":"")+t},v.isAbsolute=function(t){return"/"===t.charAt(0)},v.join=function(){for(var t="",e=0;e<arguments.length;e++){var n=arguments[e];if(!c.isString(n))throw new TypeError("Arguments to path.join must be strings");n&&(t+=t?"/"+n:n)}return v.normalize(t)},v.relative=function(t,e){t=v.resolve(t).substr(1),e=v.resolve(e).substr(1);for(var n=i(t.split("/")),r=i(e.split("/")),a=Math.min(n.length,r.length),o=a,s=0;s<a;s++)if(n[s]!==r[s]){o=s;break}for(var u=[],s=o;s<n.length;s++)u.push("..");return u=u.concat(r.slice(o)),u.join("/")},v._makeLong=function(t){return t},v.dirname=function(t){var e=u(t),n=e[0],r=e[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},v.basename=function(t,e){var n=u(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},v.extname=function(t){return u(t)[3]},v.format=function(t){if(!c.isObject(t))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof t);var e=t.root||"";if(!c.isString(e))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof t.root);var n=t.dir?t.dir+v.sep:"",r=t.base||"";return n+r},v.parse=function(t){if(!c.isString(t))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof t);var e=u(t);if(!e||4!==e.length)throw new TypeError("Invalid path '"+t+"'");return e[1]=e[1]||"",e[2]=e[2]||"",e[3]=e[3]||"",{root:e[0],dir:e[0]+e[1].slice(0,-1),base:e[2],ext:e[3],name:e[2].slice(0,e[2].length-e[3].length)}},v.sep="/",v.delimiter=":",h?t.exports=d:t.exports=v,t.exports.posix=v,t.exports.win32=d}).call(e,n(9))},function(t,e,n){"use strict";function r(t,e){s.call(this),e=e||u,this.baseUrl=t||"",this.progress=0,this.loading=!1,this._progressChunk=0,this._beforeMiddleware=[],this._afterMiddleware=[],this._boundLoadResource=this._loadResource.bind(this),this._buffer=[],this._numToLoad=0,this._queue=a.queue(this._boundLoadResource,e),this.resources={}}var i=n(8),a=n(10),o=n(3),s=n(6),u=10,h=100;r.prototype=Object.create(s.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.add=r.prototype.enqueue=function(t,e,n,r){if(Array.isArray(t)){for(var i=0;i<t.length;++i)this.add(t[i]);return this}if("object"==typeof t&&(r=e||t.callback||t.onComplete,n=t,e=t.url,t=t.name||t.key||t.url),"string"!=typeof e&&(r=n,n=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");if("function"==typeof n&&(r=n,n=null),this.resources[t])throw new Error('Resource with name "'+t+'" already exists.');return e=this._prepareUrl(e),this.resources[t]=new o(t,e,n),"function"==typeof r&&this.resources[t].once("afterMiddleware",r),this._numToLoad++,this._queue.started?(this._queue.push(this.resources[t]),this._progressChunk=(h-this.progress)/(this._queue.length()+this._queue.running())):(this._buffer.push(this.resources[t]),this._progressChunk=h/this._buffer.length),this},r.prototype.before=r.prototype.pre=function(t){return this._beforeMiddleware.push(t),this},r.prototype.after=r.prototype.use=function(t){return this._afterMiddleware.push(t),this},r.prototype.reset=function(){this.progress=0,this.loading=!1,this._progressChunk=0,this._buffer.length=0,this._numToLoad=0,this._queue.kill(),this._queue.started=!1;for(var t in this.resources){var e=this.resources[t];e.off("complete",this._onLoad,this),e.isLoading&&e.abort()}return this.resources={},this},r.prototype.load=function(t){if("function"==typeof t&&this.once("complete",t),this._queue.started)return this;this.emit("start",this),this.loading=!0;for(var e=0;e<this._buffer.length;++e)this._queue.push(this._buffer[e]);return this._buffer.length=0,this},r.prototype._prepareUrl=function(t){var e=i(t,{strictMode:!0});return e.protocol||!e.path||0===e.path.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t},r.prototype._loadResource=function(t,e){var n=this;t._dequeue=e,a.eachSeries(this._beforeMiddleware,function(e,r){e.call(n,t,function(){r(t.isComplete?{}:null)})},function(){t.isComplete?n._onLoad(t):(t.once("complete",n._onLoad,n),t.load())})},r.prototype._onComplete=function(){this.loading=!1,this.emit("complete",this,this.resources)},r.prototype._onLoad=function(t){var e=this;a.eachSeries(this._afterMiddleware,function(n,r){n.call(e,t,r)},function(){t.emit("afterMiddleware",t),e._numToLoad--,e.progress+=e._progressChunk,e.emit("progress",e,t),t.error?e.emit("error",t.error,e,t):e.emit("load",e,t),0===e._numToLoad&&(e.progress=100,e._onComplete())}),t._dequeue()},r.LOAD_TYPE=o.LOAD_TYPE,r.XHR_RESPONSE_TYPE=o.XHR_RESPONSE_TYPE},function(t,e){"use strict";t.exports={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encodeBinary:function(t){for(var e,n="",r=new Array(4),i=0,a=0,o=0;i<t.length;){for(e=new Array(3),a=0;a<e.length;a++)i<t.length?e[a]=255&t.charCodeAt(i++):e[a]=0;switch(r[0]=e[0]>>2,r[1]=(3&e[0])<<4|e[1]>>4,r[2]=(15&e[1])<<2|e[2]>>6,r[3]=63&e[2],o=i-(t.length-1)){case 2:r[3]=64,r[2]=64;break;case 1:r[3]=64}for(a=0;a<r.length;a++)n+=this._keyStr.charAt(r[a])}return n}}},function(t,e,n){"use strict";t.exports=n(23),t.exports.Resource=n(3),t.exports.middleware={caching:{memory:n(26)},parsing:{blob:n(27)}},t.exports.async=n(10)},function(t,e){"use strict";var n={};t.exports=function(){return function(t,e){n[t.url]?(t.data=n[t.url],t.complete()):t.once("complete",function(){n[this.url]=this.data}),e()}}},function(t,e,n){"use strict";var r=n(3),i=n(24),a=window.URL||window.webkitURL;t.exports=function(){return function(t,e){if(!t.data)return void e();if(t.xhr&&t.xhrType===r.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var n=a.createObjectURL(t.data);return t.blob=t.data,t.data=new Image,t.data.src=n,t.isImage=!0,void(t.data.onload=function(){a.revokeObjectURL(n),t.data.onload=null,e()})}}else{var o=t.xhr.getResponseHeader("content-type");if(o&&0===o.indexOf("image"))return t.data=new Image,t.data.src="data:"+o+";base64,"+i.encodeBinary(t.xhr.responseText),t.isImage=!0,void(t.data.onload=function(){t.data.onload=null,e()})}e()}}},function(t,e,n){var r;/** @license
	 * JS Signals <http://millermedeiros.github.com/js-signals/>
	 * Released under the MIT license
	 * Author: Miller Medeiros
	 * Version: 1.0.0 - Build: 268 (2012/11/29 05:48 PM)
	 */
!function(i){function a(t,e,n,r,i){this._listener=e,this._isOnce=n,this.context=r,this._signal=t,this._priority=i||0}function o(t,e){if("function"!=typeof t)throw new Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",e))}function s(){this._bindings=[],this._prevParams=null;var t=this;this.dispatch=function(){s.prototype.dispatch.apply(t,arguments)}}a.prototype={active:!0,params:null,execute:function(t){var e,n;return this.active&&this._listener&&(n=this.params?this.params.concat(t):t,e=this._listener.apply(this.context,n),this._isOnce&&this.detach()),e},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},isOnce:function(){return this._isOnce},getListener:function(){return this._listener},getSignal:function(){return this._signal},_destroy:function(){delete this._signal,delete this._listener,delete this.context},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}},s.prototype={VERSION:"1.0.0",memorize:!1,_shouldPropagate:!0,active:!0,_registerListener:function(t,e,n,r){var i,o=this._indexOfListener(t,n);if(o!==-1){if(i=this._bindings[o],i.isOnce()!==e)throw new Error("You cannot add"+(e?"":"Once")+"() then add"+(e?"Once":"")+"() the same listener without removing the relationship first.")}else i=new a(this,t,e,n,r),this._addBinding(i);return this.memorize&&this._prevParams&&i.execute(this._prevParams),i},_addBinding:function(t){var e=this._bindings.length;do--e;while(this._bindings[e]&&t._priority<=this._bindings[e]._priority);this._bindings.splice(e+1,0,t)},_indexOfListener:function(t,e){for(var n,r=this._bindings.length;r--;)if(n=this._bindings[r],n._listener===t&&n.context===e)return r;return-1},has:function(t,e){return this._indexOfListener(t,e)!==-1},add:function(t,e,n){return o(t,"add"),this._registerListener(t,!1,e,n)},addOnce:function(t,e,n){return o(t,"addOnce"),this._registerListener(t,!0,e,n)},remove:function(t,e){o(t,"remove");var n=this._indexOfListener(t,e);return n!==-1&&(this._bindings[n]._destroy(),this._bindings.splice(n,1)),t},removeAll:function(){for(var t=this._bindings.length;t--;)this._bindings[t]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(t){if(this.active){var e,n=Array.prototype.slice.call(arguments),r=this._bindings.length;if(this.memorize&&(this._prevParams=n),r){e=this._bindings.slice(),this._shouldPropagate=!0;do r--;while(e[r]&&this._shouldPropagate&&e[r].execute(n)!==!1)}}},forget:function(){this._prevParams=null},dispose:function(){this.removeAll(),delete this._bindings,delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}};var u=s;u.Signal=s,r=function(){return u}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))}(this)},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e,n){(function(t,r){function i(t,n){var r={seen:[],stylize:o};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),v(n)?r.showHidden=n:n&&e._extend(r,n),x(r.showHidden)&&(r.showHidden=!1),x(r.depth)&&(r.depth=2),x(r.colors)&&(r.colors=!1),x(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=a),u(r,t,r.depth)}function a(t,e){var n=i.styles[e];return n?"["+i.colors[n][0]+"m"+t+"["+i.colors[n][1]+"m":t}function o(t,e){return t}function s(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}function u(t,n,r){if(t.customInspect&&n&&P(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,t);return g(i)||(i=u(t,i,r)),i}var a=h(t,n);if(a)return a;var o=Object.keys(n),v=s(o);if(t.showHidden&&(o=Object.getOwnPropertyNames(n)),T(n)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return c(n);if(0===o.length){if(P(n)){var m=n.name?": "+n.name:"";return t.stylize("[Function"+m+"]","special")}if(y(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(w(n))return t.stylize(Date.prototype.toString.call(n),"date");if(T(n))return c(n)}var M="",_=!1,b=["{","}"];if(p(n)&&(_=!0,b=["[","]"]),P(n)){var x=n.name?": "+n.name:"";M=" [Function"+x+"]"}if(y(n)&&(M=" "+RegExp.prototype.toString.call(n)),w(n)&&(M=" "+Date.prototype.toUTCString.call(n)),T(n)&&(M=" "+c(n)),0===o.length&&(!_||0==n.length))return b[0]+M+b[1];if(r<0)return y(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special");t.seen.push(n);var E;return E=_?l(t,n,r,v,o):o.map(function(e){return f(t,n,r,v,e,_)}),t.seen.pop(),d(E,M,b)}function h(t,e){if(x(e))return t.stylize("undefined","undefined");if(g(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return _(e)?t.stylize(""+e,"number"):v(e)?t.stylize(""+e,"boolean"):m(e)?t.stylize("null","null"):void 0}function c(t){return"["+Error.prototype.toString.call(t)+"]"}function l(t,e,n,r,i){for(var a=[],o=0,s=e.length;o<s;++o)A(e,String(o))?a.push(f(t,e,n,r,String(o),!0)):a.push("");return i.forEach(function(i){i.match(/^\d+$/)||a.push(f(t,e,n,r,i,!0))}),a}function f(t,e,n,r,i,a){var o,s,h;if(h=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},h.get?s=h.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):h.set&&(s=t.stylize("[Setter]","special")),A(r,i)||(o="["+i+"]"),s||(t.seen.indexOf(h.value)<0?(s=m(n)?u(t,h.value,null):u(t,h.value,n-1),s.indexOf("\n")>-1&&(s=a?s.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+s.split("\n").map(function(t){return"   "+t}).join("\n"))):s=t.stylize("[Circular]","special")),x(o)){if(a&&i.match(/^\d+$/))return s;o=JSON.stringify(""+i),o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=t.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=t.stylize(o,"string"))}return o+": "+s}function d(t,e,n){var r=0,i=t.reduce(function(t,e){return r++,e.indexOf("\n")>=0&&r++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function p(t){return Array.isArray(t)}function v(t){return"boolean"==typeof t}function m(t){return null===t}function M(t){return null==t}function _(t){return"number"==typeof t}function g(t){return"string"==typeof t}function b(t){return"symbol"==typeof t}function x(t){return void 0===t}function y(t){return E(t)&&"[object RegExp]"===L(t)}function E(t){return"object"==typeof t&&null!==t}function w(t){return E(t)&&"[object Date]"===L(t)}function T(t){return E(t)&&("[object Error]"===L(t)||t instanceof Error)}function P(t){return"function"==typeof t}function O(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function L(t){return Object.prototype.toString.call(t)}function R(t){return t<10?"0"+t.toString(10):t.toString(10)}function S(){var t=new Date,e=[R(t.getHours()),R(t.getMinutes()),R(t.getSeconds())].join(":");return[t.getDate(),D[t.getMonth()],e].join(" ")}function A(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var N=/%[sdj%]/g;e.format=function(t){if(!g(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(i(arguments[n]));return e.join(" ")}for(var n=1,r=arguments,a=r.length,o=String(t).replace(N,function(t){if("%%"===t)return"%";if(n>=a)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}}),s=r[n];n<a;s=r[++n])o+=m(s)||!E(s)?" "+s:" "+i(s);return o},e.deprecate=function(n,i){function a(){if(!o){if(r.throwDeprecation)throw new Error(i);r.traceDeprecation?console.trace(i):console.error(i),o=!0}return n.apply(this,arguments)}if(x(t.process))return function(){return e.deprecate(n,i).apply(this,arguments)};if(r.noDeprecation===!0)return n;var o=!1;return a};var q,I={};e.debuglog=function(t){if(x(q)&&(q=r.env.NODE_DEBUG||""),t=t.toUpperCase(),!I[t])if(new RegExp("\\b"+t+"\\b","i").test(q)){var n=r.pid;I[t]=function(){var r=e.format.apply(e,arguments);console.error("%s %d: %s",t,n,r)}}else I[t]=function(){};return I[t]},e.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=p,e.isBoolean=v,e.isNull=m,e.isNullOrUndefined=M,e.isNumber=_,e.isString=g,e.isSymbol=b,e.isUndefined=x,e.isRegExp=y,e.isObject=E,e.isDate=w,e.isError=T,e.isFunction=P,e.isPrimitive=O,e.isBuffer=n(30);var D=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];e.log=function(){console.log("%s - %s",S(),e.format.apply(e,arguments))},e.inherits=n(29),e._extend=function(t,e){if(!e||!E(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}}).call(e,function(){return this}(),n(9))},function(t,e){t.exports={default:["image/./crate.gif","image/./earth-specular.gif","image/./earth.jpg","image/./glass.gif","image/./nehe.gif"]}},function(t,e){t.exports="precision mediump float;\n\n\nuniform sampler2D uTexture;\nuniform sampler2D uTextureSpecular;\nuniform float uAlpha;\nvarying vec2 vUv;\nvarying vec3 vPos;\nvarying vec3 vNormal;\n\n\nuniform vec3 uAmbientColor;\nuniform vec3 uPointLightingLocation;\nuniform vec3 uPointLightingSpecularColor;\nuniform vec3 uPointLightingDiffuseColor;\nuniform float uMaterialShininess;\n\nvoid main(void) {\n\n\tfloat shininess = texture2D(uTextureSpecular, vec2(vUv.s, vUv.t)).r * 255.0;\n\n\n\tvec4 textureColor = texture2D(uTexture, vec2(vUv.s, vUv.t));\n\n\tvec3 lightDirection = normalize(uPointLightingLocation - vPos.xyz);\n    float directionalLightWeighting = max(dot(normalize(vNormal), lightDirection), 0.0);\n\n\tvec3 normal = normalize(vNormal);\n\n\tfloat specularLightWeighting = 0.;\n\n\tif (shininess < 255.0)\n\t{\n\t\tvec3 eyeDirection = normalize(-vPos.xyz);\n\t\tvec3 reflectionDirection = reflect(-lightDirection, normal);\n\t\tspecularLightWeighting = pow(max(dot(reflectionDirection, eyeDirection), 0.0), 0.);\n\n        specularLightWeighting = pow(max(dot(reflectionDirection, eyeDirection), 0.0), shininess);\n    }\n\n\n\tfloat diffuseLightWeighting = max(dot(normal, lightDirection), 0.0);\n\n\tvec3 lightWeighting = uAmbientColor\n        + uPointLightingSpecularColor * specularLightWeighting;\n        + uPointLightingDiffuseColor * diffuseLightWeighting;\n\n\t// gl_FragColor = vec4(textureColor.rgb * lightWeighting, textureColor.a);\n\t// gl_FragColor.rgb *= specularLightWeighting;\n\tgl_FragColor = vec4(textureColor.rgb * lightWeighting, textureColor.a * uAlpha);\n\tgl_FragColor.rgb *= uAlpha;\n}\n"},function(t,e){t.exports="\nattribute vec3 aPosition;\nattribute vec2 aUv;\nattribute vec3 aNormal;\n\nuniform mat4 modelMatrix;\nuniform mat4 viewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat3 normalMatrix;\n\nvarying vec3 vPos;\nvarying vec3 vNormal;\nvarying vec2 vUv;\n\n\nvoid main(void) {\n\tvPos = aPosition;\n\tvUv = aUv;\n\n\tvec3 transformedNormal = aNormal * normalMatrix;\n\tvNormal = transformedNormal;\n\tvec4 mvPosition =  viewMatrix * modelMatrix * vec4(aPosition, 1.0);\n\n    gl_Position = projectionMatrix * mvPosition;\n}\n"},function(t,e){t.exports="precision highp float;\n\n\nvarying vec3 vPos;\n\n\nvoid main(void) {\n\n\t gl_FragColor = vec4(1.);\n\t}\n"},function(t,e){t.exports="\nattribute vec3 aPosition;\n\nuniform mat4 modelMatrix;\nuniform mat4 viewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat3 normalMatrix;\n\nvarying vec3 vPos;\n\n\nvoid main(void) {\n\tvPos = aPosition;\n\tvec4 mvPosition =  viewMatrix * modelMatrix * vec4(aPosition, 1.0);\n    gl_Position = projectionMatrix * mvPosition;\n}\n"},function(t,e){t.exports="precision mediump float;\n\nvoid main() {\n\n    gl_FragColor = vec4( 1., 1., 1., .8 );\n    gl_FragColor.rgb *= .8;\n}"},function(t,e){t.exports="precision mediump float;\n// attribute vec3 aPosition;\n// attribute vec2 aUv;\n\n// uniform mat4 projectionMatrix;\n// uniform mat4 modelMatrix;\n// uniform mat4 viewMatrix;\n\n// uniform sampler2D positions;\n// uniform float pointSize;\n\n// void main() {\n//     vec3 pos = texture2D( positions, aPosition.xy ).xyz;\n//     //pos now contains a 3D position in space, we can use it as a regular vertex\n\n//     //regular projection of our position\n//     gl_Position = projectionMatrix * modelMatrix * viewMatrix * vec4( pos, 1.0 );\n\n//     //sets the point size\n//     gl_PointSize = pointSize;\n// }\n\nattribute vec3 aPosition;\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelMatrix;\nuniform mat4 viewMatrix;\n\nuniform float pointSize;\n\nuniform sampler2D positions;\n\nvarying vec2 vUv;\nvoid main() {\n\t// vec3 pos = aPosition;\n\tvec3 pos = texture2D( positions, aPosition.xy ).xyz;\n    gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4( pos, 1.0 );\n\n    gl_PointSize = pointSize;\n}\n"},function(t,e){t.exports="precision mediump float;\n\nuniform sampler2D uPositionsTexture;\nvarying vec2 vUv;\n\nvoid main() {\n \n    //basic simulation: displays the particles in place.\n    vec3 pos = texture2D( uPositionsTexture, vUv ).rgb;\n    /*\n        we can move the particle here \n    */\n    gl_FragColor = vec4( pos,1.0 );\n}"},function(t,e){t.exports="precision mediump float;\nattribute vec3 aPosition;\nattribute vec2 aUv;\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelMatrix;\nuniform mat4 viewMatrix;\n\nvarying vec2 vUv;\nvoid main() {\n    vUv = vec2(aUv.x, aUv.y);\n    gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4( aPosition, 1.0 );\n}"},function(t,e){t.exports="precision mediump float;\n\nuniform sampler2D uTexture;\n\nvarying vec3 vPos;\nvarying vec2 vUv;\n\nvoid main(void) {\n\n\tvec4 textureColor = texture2D(uTexture, vec2(vPos.s, vPos.t));\n\tgl_FragColor = vec4(textureColor.rgb, 1.0);\n}"},function(t,e){t.exports="precision mediump float;\n\nattribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aUv;\n\nvarying vec3 vPos;\nvarying vec2 vUv;\n\n\nvoid main(void) {\n\tvPos = aPosition;\n\tvec3 n = aNormal;\n\tvUv = aUv;\n    gl_Position = vec4(aPosition, 1.0);\n}"},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var a=n(11),o=r(a),s=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:512,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:512;arguments[2];i(this,t),this.gl=POLY.gl;var r=this.gl;this.width=e,this.height=n;o.default.getExtension("OES_texture_float");if(!o.default.getExtension("OES_texture_float"))throw new Error("float textures not supported");var a=(o.default.getExtension("OES_texture_half_float"),r.UNSIGNED_BYTE),s=o.default.getExtension("OES_texture_half_float");o.default.getExtension("OES_texture_float_linear"),o.default.checkExtension("OES_texture_float")?a=r.FLOAT:s&&(a=s.HALF_FLOAT_OES),this.textures=[],this.framebuffer=r.createFramebuffer(),r.bindFramebuffer(r.FRAMEBUFFER,this.framebuffer),this.texture=r.createTexture(),this.gltexture=new POLY.Texture(this.texture,!0),this.textures.push(this.gltexture),r.bindTexture(r.TEXTURE_2D,this.texture),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.NEAREST),r.generateMipmap(r.TEXTURE_2D),r.texImage2D(r.TEXTURE_2D,0,r.RGB,this.width,this.height,0,r.RGB,a,null);var u=r.createRenderbuffer();r.bindRenderbuffer(r.RENDERBUFFER,u),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_COMPONENT16,this.width,this.height),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,this.texture,0),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.RENDERBUFFER,u),this.clean()}return t.prototype.bind=function(){var t=this.gl;t.viewport(0,0,this.width,this.height),t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT)},t.prototype.unbind=function(){var t=this.gl;t.bindTexture(t.TEXTURE_2D,this.gltexture._texture),t.generateMipmap(t.TEXTURE_2D),t.bindTexture(t.TEXTURE_2D,null),t.bindFramebuffer(t.FRAMEBUFFER,null),t.viewport(0,0,t.canvas.width,t.canvas.height)},t.prototype.clean=function(){var t=this.gl;t.bindTexture(t.TEXTURE_2D,null),t.bindRenderbuffer(t.RENDERBUFFER,null),t.bindFramebuffer(t.FRAMEBUFFER,null)},t.prototype.clear=function(){this.bind(),this.gl.clear(0,0,0,0),this.unbind()},t}();e.default=s,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var a=n(4),o=r(a),s=n(11),u=r(s);e.default=new(function(){function t(){i(this,t),this._lastMesh=null,this._lastProgram=null,this.aspectRatio=0,this.state=null,this.enabledVertexAttributes=[]}return t.prototype.init=function(t){this.state=new o.default(t),u.default.init()},t.prototype._bindBuffers=function(t){for(var e=t.program.gl,n=0;n<t._attributes.length;n++){var r=t._attributes[n];e.bindBuffer(e.ARRAY_BUFFER,r.buffer);var i=t.program.getAttributeLocation(r.name);e.vertexAttribPointer(i,r.itemSize,e.FLOAT,!1,0,0),this.enabledVertexAttributes.push(i),e.enableVertexAttribArray(i)}t.indexBuffer&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t.indexBuffer)},t.prototype.draw=function(t){this._lastMesh!==t&&(this._bindBuffers(t),this._lastMesh=t),this._lastProgram!==t.program&&(this._lastProgram=t.program),t.update();var e=t.program.gl;t.state&&this.state.setState(t.state),t.indexBuffer?e.drawElements(t.drawType,t._indices.length,e.UNSIGNED_SHORT,0):e.drawArrays(t.drawType,0,t._numItems)},t.prototype.resize=function(t,e){var n=POLY.gl;n.canvas.width=t,n.canvas.height=e,n.viewportWidth=t,n.viewportHeight=e,n.viewport(0,0,n.viewportWidth,n.viewportHeight),this.aspectRatio=t/e},t}()),t.exports=e.default},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var r=function(){function t(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n(this,t);var a=POLY.gl;this.gl=a,this.cacheAttributesLocation={},this.cacheUniformsLocation={},this.program=a.createProgram();var o=this._createShader(e,!0),s=this._createShader(r,!1);if(this._attachShaders(o,s),a.linkProgram(this.program),!a.getProgramParameter(this.program,a.LINK_STATUS))throw"Couldn't initialise program";a.useProgram(this.program),this._createGetterSetterUniforms(i);for(var u in i){this.addUniformLocation(u);var h=i[u].value;this.uniforms[u]=h}this.bind()}return t.prototype.bind=function(){this.gl.useProgram(this.program)},t.prototype.addUniformLocation=function(t){this.cacheUniformsLocation[t]=this.gl.getUniformLocation(this.program,t)},t.prototype.getUniformLocation=function(t){return void 0!==this.cacheUniformsLocation[t]?this.cacheUniformsLocation[t]:(this.addUniformLocation(t),this.getUniformLocation(t))},t.prototype._createGetterSetterUniforms=function(t){var e=this.gl,n=(this.program,this);this.uniforms=new Proxy(t,{get:function(t,e){return e in t?t[e].value:void console.log("Getting non-existant property '"+e+"'")},set:function(t,r,i){if(!(r in t))return console.log("Setting non-existant property '"+r+"', initial value: "+i),!1;t[r].value=i;var a=t[r].type,o=POLY.CONST.uniformTypes[a];return a.indexOf("mat")===-1?"texture"===a?e[o](n.getUniformLocation(r),i,t[r].index):e[o](n.getUniformLocation(r),i):e[o](n.getUniformLocation(r),!1,i),!0}})},t.prototype.addAttributeLocation=function(t){void 0===this.cacheAttributesLocation[t]&&(this.cacheAttributesLocation[t]=this.gl.getAttribLocation(this.program,t))},t.prototype.getAttributeLocation=function(t){return void 0!==this.cacheAttributesLocation[t]?this.cacheAttributesLocation[t]:(this.addAttributeLocation(t),this.getAttributeLocation(t))},t.prototype._attachShaders=function(t,e){this.gl.attachShader(this.program,t),this.gl.attachShader(this.program,e)},t.prototype._createShader=function(t,e){var n=this.gl,r=void 0;if(r=e?n.createShader(n.VERTEX_SHADER):n.createShader(n.FRAGMENT_SHADER),this.gl.shaderSource(r,t),this.gl.compileShader(r),!n.getShaderParameter(r,n.COMPILE_STATUS))throw n.getShaderInfoLog(r);return r},t}();e.default=r,t.exports=e.default},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=n(5),a=function(){function t(){r(this,t),this.aspectRatio=i.mat4.create(),this.matrix=i.mat4.create(),this.viewMatrix=i.mat4.create(),this.projectionMatrix=i.mat4.create(),this.mRX=i.mat4.create(),this.mRY=i.mat4.create(),this.mRZ=i.mat4.create(),this.mT=i.mat4.create(),this.position=i.vec3.create()}return t.prototype.lookAt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,1,0];i.mat4.lookAt(this.matrix,this.position,t,e)},t.prototype.rotateY=function(t){i.mat4.fromYRotation(this.mRY,t)},t.prototype.rotateX=function(t){i.mat4.identity(this.mRX),i.mat4.fromXRotation(this.mRX,t)},t.prototype.rotateZ=function(t){i.mat4.identity(this.mRZ),i.mat4.fromXRotation(this.mRZ,t)},t.prototype.setRotation=function(t,e,n){},t.prototype.setPosition=function(t,e,n){this.position=[t,e,n],i.mat4.identity(this.mT,this.mT),i.mat4.translate(this.mT,this.mT,[t,e,n])},t.prototype.setAspectRatio=function(t){this.aspectRatio=t,this.perspective(this.fov,t,this.near,this.far)},t.prototype.perspective=function(t,e,n,r){i.mat4.perspective(this.projectionMatrix,t,e,n,r),this.fov=t,this.near=n,this.far=r,this.aspect=e},t.prototype.orthographic=function(t,e,n,r,i,a,o){return o=o||new Float32Array(16),o[0]=2/(e-t),o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=2/(r-n),o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=2/(i-a),o[11]=0,o[12]=(t+e)/(t-e),o[13]=(n+r)/(n-r),o[14]=(i+a)/(i-a),o[15]=1,o},t}();e.default=a,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(46),a=r(i);e.default={PerspectiveCamera:a.default},t.exports=e.default},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=n(5),a=function(t){return t.touches?{x:t.touches[0].pageX,y:t.touches[0].pageY}:{x:t.clientX,y:t.clientY}},o=i.vec3.fromValues(0,1,0),s=(Math.PI/2-.01,function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window;r(this,t),this._mtxTarget=e,this._radius=n,this._targetRadius=n,this._listenerTarget=a,this._isDown=!1,this._rotation=i.mat4.create(),this.center=i.vec3.create(),this.easing=.1,this.senstivity=1,this.senstivityRotation=1,this._isLocked=!1,this._isZoomLocked=!1,this._rx=0,this._trx=0,this._prevx=0,this._ry=0,this._try=0,this._prevy=0,this._quat=i.quat.create(),this._vec=i.vec3.create(),this._mtx=i.mat4.create(),this._mouseDown={x:0,y:0},this._mouse={x:0,y:0},this._init()}return t.prototype._init=function(){var t=this;this._listenerTarget.addEventListener("mousedown",function(e){return t._onDown(e)}),this._listenerTarget.addEventListener("mouseup",function(){return t._onUp()}),this._listenerTarget.addEventListener("mousemove",function(e){return t._onMove(e)}),this._listenerTarget.addEventListener("touchstart",function(e){return t._onDown(e)}),this._listenerTarget.addEventListener("touchend",function(){return t._onUp()}),this._listenerTarget.addEventListener("touchmove",function(e){return t._onMove(e)}),this._listenerTarget.addEventListener("mousewheel",function(e){return t._onWheel(e)}),this._listenerTarget.addEventListener("DOMMouseScroll",function(e){return t._onWheel(e)})},t.prototype.lock=function(t){this._isLocked=t},t.prototype.lockZoom=function(t){this._isZoomLocked=t},t.prototype._onWheel=function(t){if(!this._isZoomLocked){var e=t.wheelDelta,n=t.detail,r=0;r=n?e?e/n/40*n>0?1:-1:-n/3:e/120,this._targetRadius+=2*-r*this.senstivity,this._targetRadius<.01&&(this._targetRadius=.01)}},t.prototype._onDown=function(t){this._isLocked||(this._isDown=!0,this._mouseDown=a(t),this._mouse=a(t),this._prevx=this._trx=this._rx,this._prevy=this._try=this._ry)},t.prototype._onMove=function(t){this._isLocked||this._isDown&&(this._mouse=a(t))},t.prototype._onUp=function(){this._isLocked||(this._isDown=!1)},t.prototype.update=function(){var t=this._mouse.x-this._mouseDown.x,e=this._mouse.y-this._mouseDown.y,n=.02*this.senstivityRotation;this._try=this._prevy-t*n,this._trx=this._prevx-e*n,this._trx<-Math.PI/2+.01?this._trx=-Math.PI/2+.01:this._trx>Math.PI/2-.01&&(this._trx=Math.PI/2-.01),this._rx+=(this._trx-this._rx)*this.easing,this._ry+=(this._try-this._ry)*this.easing,this._radius+=(this._targetRadius-this._radius)*this.easing,i.quat.identity(this._quat),i.quat.rotateY(this._quat,this._quat,this._ry),i.quat.rotateX(this._quat,this._quat,this._rx),i.vec3.set(this._vec,0,0,this._radius),i.vec3.transformQuat(this._vec,this._vec,this._quat),i.mat4.identity(this._mtx),i.mat4.lookAt(this._mtx,this._vec,this.center,o),this._mtxTarget&&i.mat4.copy(this._mtxTarget,this._mtx)},t}());e.default=s,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(48),a=r(i);e.default={OrbitalControl:a.default},t.exports=e.default},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(e){return n(this,t),this.cb=e,this._x=0,this._y=0,this._z=0,this}return t.prototype.set=function(t,e,n){t||(t=0),void 0===e&&(e=n=t),this._x=t,this._y=e,this._z=n,this.cb&&this.cb()},r(t,[{key:"x",get:function(){return this._x},set:function(t){this._x=t,this.cb&&this.cb()}},{key:"y",get:function(){return this._y},set:function(t){this._y=t,this.cb&&this.cb()}},{key:"z",get:function(){return this._z},set:function(t){this._z=t,this.cb&&this.cb()}}]),t}();e.default=i,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(50),a=r(i);e.default={Vector:a.default},t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var a=n(5),o=n(51),s=r(o),u=function(){function t(){i(this,t),this._matrix=a.mat4.create(),this._needsUpdate=!1,this.position=new s.default.Vector(this._onPropertyUpdate.bind(this)),this.scale=new s.default.Vector(this._onPropertyUpdate.bind(this)),this.scale.set(1,1,1),this.rotation=new s.default.Vector(this._onPropertyUpdate.bind(this)),this._rotation=a.vec3.create(),this._scale=a.vec3.fromValues(1,1,1),this._position=a.vec3.create()}return t.prototype._onPropertyUpdate=function(){this._needsUpdate=!0},t.prototype._updateMatrix=function(){a.vec3.set(this._scale,this.scale.x,this.scale.y,this.scale.z),a.vec3.set(this._position,this.position.x,this.position.y,this.position.z),a.vec3.set(this._rotation,this.rotation.x,this.rotation.y,this.rotation.z),a.mat4.identity(this._matrix,this._matrix),a.mat4.translate(this._matrix,this._matrix,this._position),a.mat4.rotateX(this._matrix,this._matrix,this._rotation[0]),a.mat4.rotateY(this._matrix,this._matrix,this._rotation[1]),a.mat4.rotateZ(this._matrix,this._matrix,this._rotation[2]),a.mat4.scale(this._matrix,this._matrix,this._scale)},t.prototype.update=function(){this._needsUpdate&&this._updateMatrix()},t}();e.default=u,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(1),a=r(i),o=n(55),s=r(o),u=n(57),h=r(u),c=n(54),l=r(c),f=n(56),d=r(f);e.default={Mesh:a.default,Cube:s.default,Sphere:h.default,BigTriangle:l.default,Quad:d.default},t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=n(1),u=r(s),h=n(13),c=(r(h),n(14)),l=(r(c),function(t){function e(n){var r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments[2]),o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4;i(this,e);var s=a(this,t.call(this,n,r,o)),u=[2,1,0],h=[-1,-1,-1,4,4,-1];return s.addPosition(h),s.addIndices(u,!1),s}return o(e,t),e}(u.default));e.default=l,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=n(1),u=r(s),h=n(13),c=r(h),l=n(14),f=(r(l),function(t){function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments[2],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4;i(this,e);var u=a(this,t.call(this,n,o,s));return u.options={w:r.w||1,h:r.h||1,d:r.d||1,multiFace:r.multiFace,subdivision:r.subdivision||0},u.multiFace=u.options.multiFace,u.subdivision=u.options.subdivision,u.width=u.options.w,u.height=u.options.h,u.depth=u.options.d,u.cube(),u}return o(e,t),e.prototype.cube=function(){var t=this.width/2,e=this.height/2,n=this.depth/2,r=[],i=[],a=[],o=[],s=0;r.push(-t,e,-n),r.push(t,e,-n),r.push(t,-e,-n),r.push(-t,-e,-n),o.push(0,0,-1),o.push(0,0,-1),o.push(0,0,-1),o.push(0,0,-1),this.multiFace?(i.push(0,0),i.push(.25,0),i.push(.25,.5),i.push(0,.5)):(i.push(0,0),i.push(1,0),i.push(1,1),i.push(0,1)),a.push(4*s+0),a.push(4*s+1),a.push(4*s+2),a.push(4*s+0),a.push(4*s+2),a.push(4*s+3),s++,r.push(t,e,-n),r.push(t,e,n),r.push(t,-e,n),r.push(t,-e,-n),o.push(1,0,0),o.push(1,0,0),o.push(1,0,0),o.push(1,0,0),this.multiFace?(i.push(.25,0),i.push(.5,0),i.push(.5,.5),i.push(.25,.5)):(i.push(0,0),i.push(1,0),i.push(1,1),i.push(0,1)),a.push(4*s+0),a.push(4*s+1),a.push(4*s+2),a.push(4*s+0),a.push(4*s+2),a.push(4*s+3),s++,r.push(t,e,n),r.push(-t,e,n),r.push(-t,-e,n),r.push(t,-e,n),o.push(0,0,1),o.push(0,0,1),o.push(0,0,1),o.push(0,0,1),
this.multiFace?(i.push(.5,0),i.push(.75,0),i.push(.75,.5),i.push(.5,.5)):(i.push(0,0),i.push(1,0),i.push(1,1),i.push(0,1)),a.push(4*s+0),a.push(4*s+1),a.push(4*s+2),a.push(4*s+0),a.push(4*s+2),a.push(4*s+3),s++,r.push(-t,e,n),r.push(-t,e,-n),r.push(-t,-e,-n),r.push(-t,-e,n),o.push(-1,0,0),o.push(-1,0,0),o.push(-1,0,0),o.push(-1,0,0),this.multiFace?(i.push(0,.5),i.push(.25,.5),i.push(.25,1),i.push(0,1)):(i.push(0,0),i.push(1,0),i.push(1,1),i.push(0,1)),a.push(4*s+0),a.push(4*s+1),a.push(4*s+2),a.push(4*s+0),a.push(4*s+2),a.push(4*s+3),s++,r.push(-t,e,n),r.push(t,e,n),r.push(t,e,-n),r.push(-t,e,-n),o.push(0,1,0),o.push(0,1,0),o.push(0,1,0),o.push(0,1,0),this.multiFace?(i.push(.25,.5),i.push(.5,.5),i.push(.5,1),i.push(.25,1)):(i.push(0,0),i.push(1,0),i.push(1,1),i.push(0,1)),a.push(4*s+0),a.push(4*s+1),a.push(4*s+2),a.push(4*s+0),a.push(4*s+2),a.push(4*s+3),s++,r.push(-t,-e,-n),r.push(t,-e,-n),r.push(t,-e,n),r.push(-t,-e,n),o.push(0,-1,0),o.push(0,-1,0),o.push(0,-1,0),o.push(0,-1,0),this.multiFace?(i.push(.5,.5),i.push(.75,.5),i.push(.75,1),i.push(.5,1)):(i.push(0,0),i.push(1,0),i.push(1,1),i.push(0,1)),a.push(4*s+0),a.push(4*s+1),a.push(4*s+2),a.push(4*s+0),a.push(4*s+2),a.push(4*s+3);for(var u=[],h=0;h<a.length;h+=3)u.push(a[h],a[h+1],a[h+2]);for(var l=c.default.multiplyTriangles(this.subdivision,u,r),f=r.length-i.length,h=0;h<f;h++)i.push(0,0),o.push(0,-1,0);this.addPosition(r),this.addAttribute(i,"aUv",2),this.addAttribute(o,"aNormal",3),this.addIndices(l,!1)},e}(u.default));e.default=f,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=n(1),u=r(s),h=function(t){function e(n){var r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments[2]),o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4;i(this,e);var s=a(this,t.call(this,n,r,o));return s.addPosition([-1,-1,0,-1,1,0,1,1,0,1,-1,0]),s.addAttribute([1,0,1,1,0,1,0,0],"aUv",2),s.addIndices([0,1,2,0,2,3]),s}return o(e,t),e}(u.default);e.default=h,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=n(1),u=r(s),h=function(t){function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments[2],s=arguments[3];i(this,e);var u=a(this,t.call(this,n,o,s));return u.options={nbVert:r.nbVert||10,radius:r.radius||1},u.sphere(),u}return o(e,t),e.prototype.sphere=function(){for(var t=[],e=[],n=0,r=[],i=1/this.options.nbVert,a=void 0,o=0;o<this.options.nbVert;o++)for(var s=0;s<this.options.nbVert;s++){a=this.getAngle(o,s),t.push(a[0],a[1],a[2]),a=this.getAngle(o+1,s),t.push(a[0],a[1],a[2]),a=this.getAngle(o+1,s+1),t.push(a[0],a[1],a[2]),a=this.getAngle(o,s+1),t.push(a[0],a[1],a[2]);var u=s/this.options.nbVert,h=o/this.options.nbVert;r.push(1-u,h),r.push(1-u,h+i),r.push(1-u-i,h+i),r.push(1-u-i,h),e.push(4*n+0),e.push(4*n+1),e.push(4*n+2),e.push(4*n+0),e.push(4*n+2),e.push(4*n+3),n++}this.addPosition(t),this.addAttribute(r,"aUv",2),this.addIndices(e,!1)},e.prototype.getAngle=function(t,e){var n=(arguments.length>2&&void 0!==arguments[2]&&arguments[2],e/this.options.nbVert*Math.PI*2-Math.PI),r=t/this.options.nbVert*Math.PI-.5*Math.PI,i=this.options.radius,a=[];a[1]=Math.sin(r)*i;var o=Math.cos(r)*i;return a[0]=Math.cos(n)*o,a[2]=Math.sin(n)*o,[a[0],a[1],a[2]]},e.prototype.render=function(){},e}(u.default);e.default=h,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var a=n(11),o=r(a),s=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:256,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:256,a=arguments[3];i(this,t),this.gl=POLY.gl;var s=this.gl;a=a||s.RGBA;o.default.getExtension("OES_texture_float");if(!o.default.getExtension("OES_texture_float"))throw new Error("float textures not supported");var u=(o.default.getExtension("OES_texture_half_float"),s.UNSIGNED_BYTE),h=o.default.getExtension("OES_texture_half_float");o.default.getExtension("OES_texture_float_linear"),o.default.checkExtension("OES_texture_float")?u=s.FLOAT:h&&(u=h.HALF_FLOAT_OES),console.log(u,s.FLOAT),this._texture=s.createTexture(),s.bindTexture(s.TEXTURE_2D,this._texture),s.texImage2D(s.TEXTURE_2D,0,a,n,r,0,a,u,e),POLY.utils.isPowerOfTwo(n)&&POLY.utils.isPowerOfTwo(r),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MIN_FILTER,s.NEAREST),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MAG_FILTER,s.NEAREST),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_WRAP_S,s.CLAMP_TO_EDGE),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_WRAP_T,s.CLAMP_TO_EDGE)}return t.prototype.bind=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=this.gl;e.activeTexture(e.TEXTURE0+t),e.bindTexture(e.TEXTURE_2D,this._texture)},t}();e.default=s,t.exports=e.default},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var r=function(){function t(e,r){n(this,t),this.gl=POLY.gl;var i=this.gl;r?this._texture=e:(this._texture=i.createTexture(),this.image=new Image,this.image.src=e,this.image.addEventListener("load",this.onImageLoaded.bind(this,this.image)))}return t.prototype.onImageLoaded=function(t){var e=this.gl;e.getExtension("OES_texture_float");e.bindTexture(e.TEXTURE_2D,this._texture),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!0),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.FLOAT,t),POLY.utils.isPowerOfTwo(t.width)&&POLY.utils.isPowerOfTwo(t.height)&&e.generateMipmap(e.TEXTURE_2D),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.bindTexture(e.TEXTURE_2D,null)},t.prototype.bind=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=this.gl;e.activeTexture(e.TEXTURE0+t),e.bindTexture(e.TEXTURE_2D,this._texture)},t}();e.default=r,t.exports=e.default},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0,e.default=new(function(){function t(){n(this,t),this._loops=[],this._idLoop=1,this._active=!1}return t.prototype.add=function(t,e){var n=this._idLoop;return this._loops.push({func:t,id:n,scope:e}),this._active||(window.requestAnimationFrame(this._update.bind(this)),this.start()),n},t.prototype.clear=function(){this._loops=[],this.stop()},t.prototype.start=function(){this._active=!0},t.prototype.stop=function(){this._active=!1},t.prototype._update=function(){if(this._active)if(window.requestAnimationFrame(this._update.bind(this)),this._loops.length>0)for(var t=0;t<this._loops.length;t++)this._loops[t].func(this._loops[t]);else this.stop()},t}()),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.isPowerOfTwo=e.loop=void 0;var i=n(60),a=r(i),o=n(62),s=r(o);e.loop=a.default,e.isPowerOfTwo=s.default},function(t,e){"use strict";e.__esModule=!0;var n=function(t){return!(t&t-1)};e.default=n,t.exports=e.default}]);
//# sourceMappingURL=main.js.map